---
title: Creazione di un progetto DirectX olografico
description: Informazioni su come creare una nuova app DirectX olografica basata sul modello di app per la realtà mista di Windows.
author: mikeriches
ms.author: mriches
ms.date: 08/04/2020
ms.topic: article
keywords: Realtà mista di Windows, app olografica, nuova app, app UWP, app modello, ologrammi, nuovo progetto, procedura dettagliata, download, codice di esempio, auricolare realtà mista, cuffia di realtà mista di Windows, auricolare della realtà virtuale
ms.openlocfilehash: 9259a85512555342877de0a5a8bae697fdd03b8d
ms.sourcegitcommit: 2329db5a76dfe1b844e21291dbc8ee3888ed1b81
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "98006871"
---
# <a name="creating-a-holographic-directx-project"></a><span data-ttu-id="794c6-104">Creazione di un progetto DirectX olografico</span><span class="sxs-lookup"><span data-stu-id="794c6-104">Creating a holographic DirectX project</span></span>

> [!NOTE]
> <span data-ttu-id="794c6-105">Questo articolo si riferisce alle API native di WinRT legacy.</span><span class="sxs-lookup"><span data-stu-id="794c6-105">This article relates to the legacy WinRT native APIs.</span></span>  <span data-ttu-id="794c6-106">Per i nuovi progetti di app native, è consigliabile usare l' **[API OpenXR](openxr-getting-started.md)**.</span><span class="sxs-lookup"><span data-stu-id="794c6-106">For new native app projects, we recommend using the **[OpenXR API](openxr-getting-started.md)**.</span></span>

<span data-ttu-id="794c6-107">Un'app olografica creata per un HoloLens sarà un' <a href="https://docs.microsoft.com/windows/uwp/get-started/universal-application-platform-guide" target="_blank">app piattaforma UWP (Universal Windows Platform) (UWP)</a>.</span><span class="sxs-lookup"><span data-stu-id="794c6-107">A holographic app you create for a HoloLens will be a <a href="https://docs.microsoft.com/windows/uwp/get-started/universal-application-platform-guide" target="_blank">Universal Windows Platform (UWP) app</a>.</span></span>  <span data-ttu-id="794c6-108">Se la destinazione è costituita da cuffie di realtà mista di Windows desktop, è possibile creare un'app UWP o un'app Win32.</span><span class="sxs-lookup"><span data-stu-id="794c6-108">If targeting desktop Windows Mixed Reality headsets, you can create a UWP app or a Win32 app.</span></span>

<span data-ttu-id="794c6-109">Il modello di app UWP olografico DirectX 11 è molto simile al modello di app UWP di DirectX 11.</span><span class="sxs-lookup"><span data-stu-id="794c6-109">The DirectX 11 holographic UWP app template is much like the DirectX 11 UWP app template.</span></span> <span data-ttu-id="794c6-110">Il modello include un ciclo di programma, una classe **DeviceResources** per gestire il dispositivo e il contesto Direct3D e una classe renderer di contenuto semplificata.</span><span class="sxs-lookup"><span data-stu-id="794c6-110">The template includes a program loop, a **DeviceResources** class to manage the Direct3D device and context, and a simplified content renderer class.</span></span> <span data-ttu-id="794c6-111">Dispone anche di un <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.iframeworkview" target="_blank">IFrameworkView</a>, proprio come qualsiasi altra app UWP.</span><span class="sxs-lookup"><span data-stu-id="794c6-111">It also has an <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.iframeworkview" target="_blank">IFrameworkView</a>, just like any other UWP app.</span></span>

<span data-ttu-id="794c6-112">L'app per la realtà mista, tuttavia, presenta alcune funzionalità aggiuntive che non sono presenti in una tipica app UWP Direct3D.</span><span class="sxs-lookup"><span data-stu-id="794c6-112">The mixed reality app, however, has some additional capabilities that aren't present in a typical Direct3D UWP app.</span></span> <span data-ttu-id="794c6-113">Il modello di app per la realtà mista di Windows può:</span><span class="sxs-lookup"><span data-stu-id="794c6-113">The Windows Mixed Reality app template can:</span></span>
* <span data-ttu-id="794c6-114">Gestire le risorse del dispositivo Direct3D associate a fotocamere olografiche.</span><span class="sxs-lookup"><span data-stu-id="794c6-114">Handle Direct3D device resources associated with holographic cameras.</span></span>
* <span data-ttu-id="794c6-115">Recuperare i buffer back della fotocamera dal sistema.</span><span class="sxs-lookup"><span data-stu-id="794c6-115">Retrieve camera back buffers from the system.</span></span> <span data-ttu-id="794c6-116">Nel caso di Direct3D12, creare risorse buffer di back-out olografico e gestire la durata delle risorse.</span><span class="sxs-lookup"><span data-stu-id="794c6-116">In the case of Direct3D12, create holographic back buffer resources and manage resource lifetimes.</span></span>
* <span data-ttu-id="794c6-117">Gestire l'input di [sguardi](../../design/gaze-and-commit.md) e riconoscere un [movimento](../../design/gaze-and-commit.md#composite-gestures).</span><span class="sxs-lookup"><span data-stu-id="794c6-117">Handle [gaze](../../design/gaze-and-commit.md) input, and recognize a [gesture](../../design/gaze-and-commit.md#composite-gestures).</span></span>
* <span data-ttu-id="794c6-118">Passa alla modalità di rendering stereo a schermo intero.</span><span class="sxs-lookup"><span data-stu-id="794c6-118">Go into full-screen stereo rendering mode.</span></span>

## <a name="how-do-i-get-started"></a><span data-ttu-id="794c6-119">Come iniziare?</span><span class="sxs-lookup"><span data-stu-id="794c6-119">How do I get started?</span></span>

<span data-ttu-id="794c6-120">[Installare innanzitutto gli strumenti](../install-the-tools.md)seguendo le istruzioni riportate in download di Visual Studio 2019 e dei modelli di app per la realtà mista di Windows.</span><span class="sxs-lookup"><span data-stu-id="794c6-120">First [install the tools](../install-the-tools.md), following the instructions on downloading Visual Studio 2019 and the Windows Mixed Reality app templates.</span></span> <span data-ttu-id="794c6-121">I modelli di app per la realtà mista sono disponibili in Visual Studio Marketplace come [download Web](https://marketplace.visualstudio.com/items?itemName=WindowsMixedRealityteam.WindowsMixedRealityAppTemplatesVSIX)oppure installarli come estensione tramite l'interfaccia utente di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="794c6-121">The mixed reality app templates are available on the Visual Studio marketplace as a [web download](https://marketplace.visualstudio.com/items?itemName=WindowsMixedRealityteam.WindowsMixedRealityAppTemplatesVSIX), or by installing them as an extension through the Visual Studio UI.</span></span>

<span data-ttu-id="794c6-122">A questo punto si è pronti per creare l'app per la realtà mista di Windows DirectX 11.</span><span class="sxs-lookup"><span data-stu-id="794c6-122">Now you're ready to create your DirectX 11 Windows Mixed Reality app!</span></span> <span data-ttu-id="794c6-123">Si noti che per rimuovere il contenuto di esempio, impostare come commento la direttiva per il preprocessore **DRAW_SAMPLE_CONTENT** in *PCH. h*.</span><span class="sxs-lookup"><span data-stu-id="794c6-123">Note, to remove the sample content, comment out the **DRAW_SAMPLE_CONTENT** preprocessor directive in *pch.h*.</span></span>

## <a name="creating-a-uwp-project"></a><span data-ttu-id="794c6-124">Creazione di un progetto UWP</span><span class="sxs-lookup"><span data-stu-id="794c6-124">Creating a UWP project</span></span>

<span data-ttu-id="794c6-125">Una volta installati gli strumenti,] (.. /install-the-tools.md) è quindi possibile creare un progetto UWP DirectX olografico.</span><span class="sxs-lookup"><span data-stu-id="794c6-125">Once the tools are installed,](../install-the-tools.md) you can then create a holographic DirectX UWP project.</span></span>

<span data-ttu-id="794c6-126">Per creare un nuovo progetto in Visual Studio 2019:</span><span class="sxs-lookup"><span data-stu-id="794c6-126">To create a new project in Visual Studio 2019:</span></span>
1. <span data-ttu-id="794c6-127">Avviare **Visual Studio**.</span><span class="sxs-lookup"><span data-stu-id="794c6-127">Start **Visual Studio**.</span></span>
2. <span data-ttu-id="794c6-128">Nella sezione **Introduzione** a destra selezionare **Crea un nuovo progetto**.</span><span class="sxs-lookup"><span data-stu-id="794c6-128">In the **Get Started** section on the right, select **Create a new project**.</span></span>
3. <span data-ttu-id="794c6-129">Nei menu a discesa della finestra di dialogo **Crea un nuovo progetto** selezionare **C++**, **realtà mista di Windows** e **UWP**.</span><span class="sxs-lookup"><span data-stu-id="794c6-129">In the drop-down menus in the **Create a new project** dialog, select **C++**, **Windows Mixed Reality**, and **UWP**.</span></span>
4. <span data-ttu-id="794c6-130">Selezionare l' **app olografica DirectX 11 (Windows universale) (C++/WinRT)**.</span><span class="sxs-lookup"><span data-stu-id="794c6-130">Select **Holographic DirectX 11 App (Universal Windows) (C++/WinRT)**.</span></span>
   <span data-ttu-id="794c6-131">![Screenshot del modello di progetto di app UWP DirectX 11 C++/WinRT in Visual Studio 2019](images/holographic-directx-app-cpp-new-project-2019.png)</span><span class="sxs-lookup"><span data-stu-id="794c6-131">![Screenshot of the Holographic DirectX 11 C++/WinRT UWP app project template in Visual Studio 2019](images/holographic-directx-app-cpp-new-project-2019.png)</span></span><br>
   <span data-ttu-id="794c6-132">*Modello di progetto app UWP DirectX 11 C++/WinRT in Visual Studio 2019*</span><span class="sxs-lookup"><span data-stu-id="794c6-132">*Holographic DirectX 11 C++/WinRT UWP app project template in Visual Studio 2019*</span></span>
   >[!IMPORTANT]
   ><span data-ttu-id="794c6-133">Verificare che il nome del modello di progetto includa "(C++/WinRT)".</span><span class="sxs-lookup"><span data-stu-id="794c6-133">Be sure that the project template's name includes "(C++/WinRT)".</span></span>  <span data-ttu-id="794c6-134">In caso contrario, è installata una versione precedente dei modelli di progetto olografici.</span><span class="sxs-lookup"><span data-stu-id="794c6-134">If not, you have an older version of the holographic project templates installed.</span></span>  <span data-ttu-id="794c6-135">Per ottenere i modelli di progetto più recenti, [installarli](../install-the-tools.md) come estensione di Visual Studio 2019.</span><span class="sxs-lookup"><span data-stu-id="794c6-135">To get the latest project templates, [install them](../install-the-tools.md) as an extension to Visual Studio 2019.</span></span>
5. <span data-ttu-id="794c6-136">Selezionare **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="794c6-136">Select **Next**.</span></span>
5. <span data-ttu-id="794c6-137">Immettere le caselle di testo **nome progetto** e **percorso** e selezionare o toccare **Crea**.</span><span class="sxs-lookup"><span data-stu-id="794c6-137">Fill in the **Project name** and **Location** text boxes, and select or tap **Create**.</span></span> <span data-ttu-id="794c6-138">Il progetto di app olografico viene creato.</span><span class="sxs-lookup"><span data-stu-id="794c6-138">The holographic app project is created.</span></span>
6. <span data-ttu-id="794c6-139">Per lo sviluppo destinato solo a HoloLens 2, verificare che la versione di **destinazione** e la **versione minima** siano impostate su **Windows 10, versione 1903**.</span><span class="sxs-lookup"><span data-stu-id="794c6-139">For development targeting only HoloLens 2, ensure that the **Target version** and **Minimum version** are set to **Windows 10, version 1903**.</span></span>  <span data-ttu-id="794c6-140">Se si fa riferimento anche a HoloLens (1st Gen) o alle cuffie Desktop Mixed Reality di Windows, è possibile impostare la **versione minima** su **Windows 10, versione 1809**.</span><span class="sxs-lookup"><span data-stu-id="794c6-140">If you're also targeting HoloLens (1st gen) or desktop Windows Mixed Reality headsets, you can set **Minimum version** to **Windows 10, version 1809**.</span></span> <span data-ttu-id="794c6-141">Quando si usano le nuove funzionalità di HoloLens 2, è necessario che nel codice siano presenti <a href="https://docs.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code" target="_blank">controlli adattivi della versione</a> .</span><span class="sxs-lookup"><span data-stu-id="794c6-141">This will require some <a href="https://docs.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code" target="_blank">version adaptive checks</a> in your code when using new features of HoloLens 2.</span></span>
   <span data-ttu-id="794c6-142">![Screenshot dell'impostazione di Windows 10, versione 1903 come versione di destinazione e minima](images/new-uwp-project.png)</span><span class="sxs-lookup"><span data-stu-id="794c6-142">![Screenshot of setting Windows 10, version 1903 as the target and minimum versions](images/new-uwp-project.png)</span></span><br>
   <span data-ttu-id="794c6-143">*Impostazione di **Windows 10, versione 1903** come versione di destinazione e minima*</span><span class="sxs-lookup"><span data-stu-id="794c6-143">*Setting **Windows 10, version 1903** as the target and minimum versions*</span></span>
   >[!IMPORTANT]
   ><span data-ttu-id="794c6-144">Se non viene visualizzata l'opzione **Windows 10, versione 1903** , non è installata la versione più recente di Windows 10 SDK.</span><span class="sxs-lookup"><span data-stu-id="794c6-144">If you do not see **Windows 10, version 1903** as an option, you do not have the latest Windows 10 SDK installed.</span></span>  <span data-ttu-id="794c6-145">Per visualizzare questa opzione, <a href="https://developer.microsoft.com/windows/downloads/windows-10-sdk" target="_blank">installare la versione 10.0.18362.0 o successiva di Windows 10 SDK</a>.</span><span class="sxs-lookup"><span data-stu-id="794c6-145">To get this option to appear, <a href="https://developer.microsoft.com/windows/downloads/windows-10-sdk" target="_blank">install version 10.0.18362.0 or later of the Windows 10 SDK</a>.</span></span>

<span data-ttu-id="794c6-146">Per creare un nuovo progetto in Visual Studio 2017:</span><span class="sxs-lookup"><span data-stu-id="794c6-146">To create a new project in Visual Studio 2017:</span></span>
1. <span data-ttu-id="794c6-147">Avviare **Visual Studio**.</span><span class="sxs-lookup"><span data-stu-id="794c6-147">Start **Visual Studio**.</span></span>
2. <span data-ttu-id="794c6-148">Scegliere **nuovo** dal menu **file** e scegliere **progetto** dal menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="794c6-148">From the **File** menu, point to **New** and select **Project** from the context menu.</span></span> <span data-ttu-id="794c6-149">Verrà visualizzata la finestra di dialogo **Nuovo progetto**.</span><span class="sxs-lookup"><span data-stu-id="794c6-149">The **New Project** dialog opens.</span></span>
3. <span data-ttu-id="794c6-150">Espandere **installato** a sinistra ed espandere il nodo **Visual C++** Language.</span><span class="sxs-lookup"><span data-stu-id="794c6-150">Expand **Installed** on the left and expand the **Visual C++** language node.</span></span>
4. <span data-ttu-id="794c6-151">Passare al nodo **universale di Windows > olografico** e selezionare l' **app olografica DirectX 11 (Windows universale) (C++/WinRT)**.</span><span class="sxs-lookup"><span data-stu-id="794c6-151">Navigate to the **Windows Universal > Holographic** node and select **Holographic DirectX 11 App (Universal Windows) (C++/WinRT)**.</span></span>
   <span data-ttu-id="794c6-152">![Screenshot del modello di progetto di app UWP DirectX 11 C++/WinRT in Visual Studio 2017](images/holographic-directx-app-cpp-new-project.png)</span><span class="sxs-lookup"><span data-stu-id="794c6-152">![Screenshot of the Holographic DirectX 11 C++/WinRT UWP app project template in Visual Studio 2017](images/holographic-directx-app-cpp-new-project.png)</span></span><br>
   <span data-ttu-id="794c6-153">*Modello di progetto app UWP DirectX 11 C++/WinRT in Visual Studio 2017*</span><span class="sxs-lookup"><span data-stu-id="794c6-153">*Holographic DirectX 11 C++/WinRT UWP app project template in Visual Studio 2017*</span></span>
   >[!IMPORTANT]
   ><span data-ttu-id="794c6-154">Verificare che il nome del modello di progetto includa "(C++/WinRT)".</span><span class="sxs-lookup"><span data-stu-id="794c6-154">Be sure that the project template's name includes "(C++/WinRT)".</span></span>  <span data-ttu-id="794c6-155">In caso contrario, è installata una versione precedente dei modelli di progetto olografici.</span><span class="sxs-lookup"><span data-stu-id="794c6-155">If not, you have an older version of the holographic project templates installed.</span></span>  <span data-ttu-id="794c6-156">Per ottenere i modelli di progetto più recenti, [installarli](../install-the-tools.md) come estensione di Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="794c6-156">To get the latest project templates, [install them](../install-the-tools.md) as an extension to Visual Studio 2017.</span></span>
5. <span data-ttu-id="794c6-157">Immettere le caselle di testo **nome** e **percorso** e selezionare o toccare **OK**.</span><span class="sxs-lookup"><span data-stu-id="794c6-157">Fill in the **Name** and **Location** text boxes, and select or tap **OK**.</span></span> <span data-ttu-id="794c6-158">Il progetto di app olografico viene creato.</span><span class="sxs-lookup"><span data-stu-id="794c6-158">The holographic app project is created.</span></span>
6. <span data-ttu-id="794c6-159">Per lo sviluppo destinato solo a HoloLens 2, verificare che la versione di **destinazione** e la **versione minima** siano impostate su **Windows 10, versione 1903**.</span><span class="sxs-lookup"><span data-stu-id="794c6-159">For development targeting only HoloLens 2, ensure that the **Target version** and **Minimum version** are set to **Windows 10, version 1903**.</span></span>  <span data-ttu-id="794c6-160">Se si fa riferimento anche a HoloLens (1st Gen) o alle cuffie Desktop Mixed Reality di Windows, è possibile impostare la **versione minima** su **Windows 10, versione 1809**.</span><span class="sxs-lookup"><span data-stu-id="794c6-160">If you're also targeting HoloLens (1st gen) or desktop Windows Mixed Reality headsets, you can set **Minimum version** to **Windows 10, version 1809**.</span></span> <span data-ttu-id="794c6-161">Quando si usano le nuove funzionalità di HoloLens 2, è necessario che nel codice siano presenti <a href="https://docs.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code" target="_blank">controlli adattivi della versione</a> .</span><span class="sxs-lookup"><span data-stu-id="794c6-161">This will require some <a href="https://docs.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-code" target="_blank">version adaptive checks</a> in your code when using new features of HoloLens 2.</span></span>
   <span data-ttu-id="794c6-162">![Screenshot dell'impostazione di Windows 10, versione 1903 come versione di destinazione e minima](images/new-uwp-project.png)</span><span class="sxs-lookup"><span data-stu-id="794c6-162">![Screenshot of setting Windows 10, version 1903 as the target and minimum versions](images/new-uwp-project.png)</span></span><br>
   <span data-ttu-id="794c6-163">*Impostazione di **Windows 10, versione 1903** come versione di destinazione e minima*</span><span class="sxs-lookup"><span data-stu-id="794c6-163">*Setting **Windows 10, version 1903** as the target and minimum versions*</span></span>
   >[!IMPORTANT]
   ><span data-ttu-id="794c6-164">Se non viene visualizzata l'opzione **Windows 10, versione 1903** , non è installata la versione più recente di Windows 10 SDK.</span><span class="sxs-lookup"><span data-stu-id="794c6-164">If you do not see **Windows 10, version 1903** as an option, you do not have the latest Windows 10 SDK installed.</span></span>  <span data-ttu-id="794c6-165">Per visualizzare questa opzione, <a href="https://developer.microsoft.com/windows/downloads/windows-10-sdk" target="_blank">installare la versione 10.0.18362.0 o successiva di Windows 10 SDK</a>.</span><span class="sxs-lookup"><span data-stu-id="794c6-165">To get this option to appear, <a href="https://developer.microsoft.com/windows/downloads/windows-10-sdk" target="_blank">install version 10.0.18362.0 or later of the Windows 10 SDK</a>.</span></span>

<span data-ttu-id="794c6-166">Il modello genera un progetto con <a href="https://docs.microsoft.com/windows/uwp/cpp-and-winrt-apis/" target="_blank">c++/WinRT</a>, una proiezione del linguaggio c++ 17 delle API Windows Runtime che supporta qualsiasi compilatore c++ 17 conforme agli standard.</span><span class="sxs-lookup"><span data-stu-id="794c6-166">The template generates a project using <a href="https://docs.microsoft.com/windows/uwp/cpp-and-winrt-apis/" target="_blank">C++/WinRT</a>, a C++17 language projection of the Windows Runtime APIs that supports any standards-compliant C++17 compiler.</span></span>  <span data-ttu-id="794c6-167">Il progetto Mostra come creare un cubo con blocco globale posizionato a 2 metri dall'utente.</span><span class="sxs-lookup"><span data-stu-id="794c6-167">The project shows how to create a world-locked cube that's placed 2 meters from the user.</span></span> <span data-ttu-id="794c6-168">L'utente può [toccare](../../design/gaze-and-commit.md#composite-gestures) o premere un pulsante sul controller per posizionare il cubo in una posizione diversa specificata dallo [sguardo](../../design/gaze-and-commit.md)dell'utente.</span><span class="sxs-lookup"><span data-stu-id="794c6-168">The user can [air-tap](../../design/gaze-and-commit.md#composite-gestures) or press a button on the controller to place the cube in a different position specified by the user's [gaze](../../design/gaze-and-commit.md).</span></span> <span data-ttu-id="794c6-169">È possibile modificare questo progetto per creare qualsiasi app di realtà mista.</span><span class="sxs-lookup"><span data-stu-id="794c6-169">You can modify this project to create any mixed reality app.</span></span>

<span data-ttu-id="794c6-170">È anche possibile creare un nuovo progetto usando il modello di progetto olografico di **Visual C#** , basato su SharpDX.</span><span class="sxs-lookup"><span data-stu-id="794c6-170">You can also create a new project using the **Visual C#** holographic project template, which is based on SharpDX.</span></span>  <span data-ttu-id="794c6-171">Se il progetto C# olografico non è stato avviato dal modello di app olografico di Windows, è necessario copiare il file MS. fxcompile. targets da un progetto di modello C# per la realtà mista di Windows e importarlo nel file con estensione csproj per compilare i file HLSL aggiunti al progetto.</span><span class="sxs-lookup"><span data-stu-id="794c6-171">If your holographic C# project didn't start from the Windows Holographic app template, you'll need to copy the ms.fxcompile.targets file from a Windows Mixed Reality C# template project and import it in your.csproj file to compile HLSL files that you add to your project.</span></span> <span data-ttu-id="794c6-172">Un modello Direct3D 12 viene fornito anche nell'estensione modelli di app per la realtà mista di Windows in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="794c6-172">A Direct3D 12 template is also provided in the Windows Mixed Reality app templates extension to Visual Studio.</span></span>

<span data-ttu-id="794c6-173">Vedere [uso di Visual Studio per distribuire ed eseguire il debug](../platform-capabilities-and-apis/using-visual-studio.md) per informazioni su come compilare e distribuire l'esempio in HOLOLENS, PC con dispositivo immersivo collegato o emulatore.</span><span class="sxs-lookup"><span data-stu-id="794c6-173">Review [Using Visual Studio to deploy and debug](../platform-capabilities-and-apis/using-visual-studio.md) for information on how to build and deploy the sample to your HoloLens, PC with immersive device attached, or an emulator.</span></span>

<span data-ttu-id="794c6-174">Nelle altre istruzioni riportate di seguito si presuppone che si stia usando C++ per compilare l'app.</span><span class="sxs-lookup"><span data-stu-id="794c6-174">The rest of the instructions below will assume that you're using C++ to build your app.</span></span>

### <a name="uwp-app-entry-point"></a><span data-ttu-id="794c6-175">Punto di ingresso dell'app UWP</span><span class="sxs-lookup"><span data-stu-id="794c6-175">UWP app entry point</span></span>

<span data-ttu-id="794c6-176">L'app UWP olografica viene avviata nella funzione **wWinMain** in AppView. cpp.</span><span class="sxs-lookup"><span data-stu-id="794c6-176">Your holographic UWP app starts in the **wWinMain** function in AppView.cpp.</span></span> <span data-ttu-id="794c6-177">La funzione **wWinMain** crea il <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.iframeworkview" target="_blank">IFrameworkView</a> dell'app e avvia il <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.coreapplication" target="_blank">CoreApplication</a> .</span><span class="sxs-lookup"><span data-stu-id="794c6-177">The **wWinMain** function creates the app's <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.iframeworkview" target="_blank">IFrameworkView</a> and starts the <a href="https://docs.microsoft.com/uwp/api/windows.applicationmodel.core.coreapplication" target="_blank">CoreApplication</a> with it.</span></span>

<span data-ttu-id="794c6-178">Da **AppView. cpp**:</span><span class="sxs-lookup"><span data-stu-id="794c6-178">From **AppView.cpp**:</span></span>

```cpp
// The main function bootstraps into the IFrameworkView.
int __stdcall wWinMain(HINSTANCE, HINSTANCE, PWSTR, int)
{
    winrt::init_apartment();
    CoreApplication::Run(AppViewSource());
    return 0;
}
```

<span data-ttu-id="794c6-179">Da questo punto in poi, la classe AppView gestisce l'interazione con gli eventi di input di Windows Basic, gli eventi e la messaggistica CoreWindow e così via.</span><span class="sxs-lookup"><span data-stu-id="794c6-179">From that point on, the AppView class handles interaction with Windows basic input events, CoreWindow events and messaging, and so on.</span></span> <span data-ttu-id="794c6-180">Creerà anche il HolographicSpace usato dall'app.</span><span class="sxs-lookup"><span data-stu-id="794c6-180">It will also create the HolographicSpace used by your app.</span></span>

## <a name="creating-a-win32-project"></a><span data-ttu-id="794c6-181">Creazione di un progetto Win32</span><span class="sxs-lookup"><span data-stu-id="794c6-181">Creating a Win32 project</span></span>

<span data-ttu-id="794c6-182">Il modo più semplice per iniziare a creare un progetto olografico Win32 consiste nell'adattare l' <a href="https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/BasicHologram" target="_blank">esempio Win32 *BasicHologram*</a>.</span><span class="sxs-lookup"><span data-stu-id="794c6-182">The easiest way to get started building a Win32 holographic project is to adapt the <a href="https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/BasicHologram" target="_blank">*BasicHologram* Win32 sample</a>.</span></span>

<span data-ttu-id="794c6-183">Questo esempio Win32 USA <a href="https://docs.microsoft.com/windows/uwp/cpp-and-winrt-apis/" target="_blank">C++/WinRT</a>, una proiezione del linguaggio c++ 17 delle API Windows Runtime che supporta qualsiasi compilatore c++ 17 conforme agli standard.</span><span class="sxs-lookup"><span data-stu-id="794c6-183">This Win32 sample uses <a href="https://docs.microsoft.com/windows/uwp/cpp-and-winrt-apis/" target="_blank">C++/WinRT</a>, a C++17 language projection of the Windows Runtime APIs that supports any standards-compliant C++17 compiler.</span></span>  <span data-ttu-id="794c6-184">Il progetto Mostra come creare un cubo con blocco globale posizionato a 2 metri dall'utente.</span><span class="sxs-lookup"><span data-stu-id="794c6-184">The project shows how to create a world-locked cube that's placed 2 meters from the user.</span></span> <span data-ttu-id="794c6-185">L'utente può premere un pulsante sul controller per posizionare il cubo in una posizione diversa specificata dallo [sguardo](../../design/gaze-and-commit.md)dell'utente.</span><span class="sxs-lookup"><span data-stu-id="794c6-185">The user can press a button on the controller to place the cube in a different position that's specified by the user's [gaze](../../design/gaze-and-commit.md).</span></span> <span data-ttu-id="794c6-186">È possibile modificare questo progetto per creare qualsiasi app di realtà mista.</span><span class="sxs-lookup"><span data-stu-id="794c6-186">You can modify this project to create any mixed reality app.</span></span>

### <a name="win32-app-entry-point"></a><span data-ttu-id="794c6-187">Punto di ingresso dell'app Win32</span><span class="sxs-lookup"><span data-stu-id="794c6-187">Win32 app entry point</span></span>

<span data-ttu-id="794c6-188">L'app Win32 olografica viene avviata nella funzione **wWinMain** in AppMain. cpp.</span><span class="sxs-lookup"><span data-stu-id="794c6-188">Your holographic Win32 app starts in the **wWinMain** function in AppMain.cpp.</span></span> <span data-ttu-id="794c6-189">La funzione **wWinMain** crea l'oggetto HWND dell'app e avvia il ciclo di messaggi.</span><span class="sxs-lookup"><span data-stu-id="794c6-189">The **wWinMain** function creates the app's HWND and starts its message loop.</span></span>

<span data-ttu-id="794c6-190">Da **AppMain. cpp**:</span><span class="sxs-lookup"><span data-stu-id="794c6-190">From **AppMain.cpp**:</span></span>

```cpp
int APIENTRY wWinMain(
    _In_     HINSTANCE hInstance,
    _In_opt_ HINSTANCE hPrevInstance,
    _In_     LPWSTR    lpCmdLine,
    _In_     int       nCmdShow)
{
    UNREFERENCED_PARAMETER(hPrevInstance);
    UNREFERENCED_PARAMETER(lpCmdLine);

    winrt::init_apartment();

    App app;

    // Initialize global strings, and perform application initialization.
    app.Initialize(hInstance);

    // Create the HWND and the HolographicSpace.
    app.CreateWindowAndHolographicSpace(hInstance, nCmdShow);

    // Main message loop:
    app.Run(hInstance);

    // Perform application teardown.
    app.Uninitialize();

    return 0;
}
```

<span data-ttu-id="794c6-191">Da quel momento in poi, la classe AppMain gestisce l'interazione con i messaggi della finestra di base e così via.</span><span class="sxs-lookup"><span data-stu-id="794c6-191">From that point on, the AppMain class handles interaction with basic window messages, and so on.</span></span> <span data-ttu-id="794c6-192">Creerà anche il HolographicSpace usato dall'app.</span><span class="sxs-lookup"><span data-stu-id="794c6-192">It will also create the HolographicSpace used by your app.</span></span>

## <a name="render-holographic-content"></a><span data-ttu-id="794c6-193">Rendering del contenuto olografico</span><span class="sxs-lookup"><span data-stu-id="794c6-193">Render holographic content</span></span>

<span data-ttu-id="794c6-194">La cartella **contenuto** del progetto contiene le classi per il rendering degli ologrammi nello [spazio olografico](getting-a-holographicspace.md).</span><span class="sxs-lookup"><span data-stu-id="794c6-194">The project's **Content** folder contains classes for rendering holograms in the [holographic space](getting-a-holographicspace.md).</span></span> <span data-ttu-id="794c6-195">L'ologramma predefinito nel modello è un cubo rotante che si trova a 2 metri di fuori dall'utente.</span><span class="sxs-lookup"><span data-stu-id="794c6-195">The default hologram in the template is a spinning cube that's placed 2 meters away from the user.</span></span> <span data-ttu-id="794c6-196">La creazione di questo cubo è implementata in **SpinningCubeRenderer. cpp**, che include i metodi principali seguenti:</span><span class="sxs-lookup"><span data-stu-id="794c6-196">Drawing this cube is implemented in **SpinningCubeRenderer.cpp**, which has these key methods:</span></span>

|  <span data-ttu-id="794c6-197">Metodo</span><span class="sxs-lookup"><span data-stu-id="794c6-197">Method</span></span>  |  <span data-ttu-id="794c6-198">Spiegazione</span><span class="sxs-lookup"><span data-stu-id="794c6-198">Explanation</span></span> | 
|----------|----------|
|  `CreateDeviceDependentResources` |  <span data-ttu-id="794c6-199">Carica shader e crea la mesh del cubo.</span><span class="sxs-lookup"><span data-stu-id="794c6-199">Loads shaders and creates the cube mesh.</span></span> | 
|  `PositionHologram` |  <span data-ttu-id="794c6-200">Inserisce l'ologramma nella posizione specificata dal <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialpointerpose" target="_blank">SpatialPointerPose</a>fornito.</span><span class="sxs-lookup"><span data-stu-id="794c6-200">Places the hologram at the location specified by the provided <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialpointerpose" target="_blank">SpatialPointerPose</a>.</span></span> | 
|  `Update` |  <span data-ttu-id="794c6-201">Ruota il cubo e imposta la matrice del modello.</span><span class="sxs-lookup"><span data-stu-id="794c6-201">Rotates the cube, and sets the model matrix.</span></span> | 
|  `Render` |  <span data-ttu-id="794c6-202">Esegue il rendering di un frame utilizzando i vertici e i pixel shader.</span><span class="sxs-lookup"><span data-stu-id="794c6-202">Renders a frame using the vertex and pixel shaders.</span></span> | 

<span data-ttu-id="794c6-203">La sottocartella **shader** contiene quattro implementazioni dello shader predefinite:</span><span class="sxs-lookup"><span data-stu-id="794c6-203">The **Shaders** subfolder contains four default shader implementations:</span></span>

|  <span data-ttu-id="794c6-204">Shader</span><span class="sxs-lookup"><span data-stu-id="794c6-204">Shader</span></span>  |  <span data-ttu-id="794c6-205">Spiegazione</span><span class="sxs-lookup"><span data-stu-id="794c6-205">Explanation</span></span> | 
|----------|----------|
|  `GeometryShader.hlsl` |  <span data-ttu-id="794c6-206">Un pass-through che lascia la geometria non modificata.</span><span class="sxs-lookup"><span data-stu-id="794c6-206">A pass-through that leaves the geometry unmodified.</span></span> | 
|  `PixelShader.hlsl` |  <span data-ttu-id="794c6-207">Passa i dati dei colori.</span><span class="sxs-lookup"><span data-stu-id="794c6-207">Passes through the color data.</span></span> <span data-ttu-id="794c6-208">I dati relativi ai colori vengono interpolati e assegnati a un pixel al passaggio di rasterizzazione.</span><span class="sxs-lookup"><span data-stu-id="794c6-208">The color data is interpolated and assigned to a pixel at the rasterization step.</span></span> | 
|  `VertexShader.hlsl` |  <span data-ttu-id="794c6-209">Shader semplice per eseguire l'elaborazione del vertice sulla GPU.</span><span class="sxs-lookup"><span data-stu-id="794c6-209">Simple shader to do vertex processing on the GPU.</span></span> | 
|  `VPRTVertexShader.hlsl` |  <span data-ttu-id="794c6-210">Shader semplice per eseguire l'elaborazione dei vertici sulla GPU, ottimizzata per il rendering stereo di realtà mista di Windows.</span><span class="sxs-lookup"><span data-stu-id="794c6-210">Simple shader to do vertex processing on the GPU, that is optimized for Windows Mixed Reality stereo rendering.</span></span> | 

<span data-ttu-id="794c6-211">`VertexShaderShared.hlsl` contiene codice comune condiviso tra `VertexShader.hlsl` e `VPRTVertexShader.hlsl` .</span><span class="sxs-lookup"><span data-stu-id="794c6-211">`VertexShaderShared.hlsl` contains common code shared between `VertexShader.hlsl` and `VPRTVertexShader.hlsl`.</span></span>

<span data-ttu-id="794c6-212">Nota: il modello di app Direct3D 12 include anche `ViewInstancingVertexShader.hlsl` .</span><span class="sxs-lookup"><span data-stu-id="794c6-212">Note: The Direct3D 12 app template also includes `ViewInstancingVertexShader.hlsl`.</span></span> <span data-ttu-id="794c6-213">Questa variante usa le funzionalità facoltative di D3D12 per eseguire il rendering delle immagini stereo in modo più efficiente.</span><span class="sxs-lookup"><span data-stu-id="794c6-213">This variant uses D3D12 optional features to render stereo images more efficiently.</span></span>

<span data-ttu-id="794c6-214">Gli shader vengono compilati quando il progetto viene compilato e caricati nel metodo **SpinningCubeRenderer:: CreateDeviceDependentResources** .</span><span class="sxs-lookup"><span data-stu-id="794c6-214">The shaders compile when the project is built, and loaded in the **SpinningCubeRenderer::CreateDeviceDependentResources** method.</span></span>

## <a name="interact-with-your-holograms"></a><span data-ttu-id="794c6-215">Interagire con gli ologrammi</span><span class="sxs-lookup"><span data-stu-id="794c6-215">Interact with your holograms</span></span>

<span data-ttu-id="794c6-216">L'input dell'utente viene elaborato nella classe **SpatialInputHandler** , che ottiene un'istanza di <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionmanager" target="_blank">SpatialInteractionManager</a> e sottoscrive l'evento <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed" target="_blank">SourcePressed</a> .</span><span class="sxs-lookup"><span data-stu-id="794c6-216">User input is processed in the **SpatialInputHandler** class, which gets a <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionmanager" target="_blank">SpatialInteractionManager</a> instance and subscribes to the <a href="https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed" target="_blank">SourcePressed</a> event.</span></span> <span data-ttu-id="794c6-217">In questo modo è possibile rilevare il movimento di tocco aereo e altri eventi di input spaziali.</span><span class="sxs-lookup"><span data-stu-id="794c6-217">This enables detecting the air-tap gesture and other spatial input events.</span></span>

## <a name="update-holographic-content"></a><span data-ttu-id="794c6-218">Aggiorna contenuto olografico</span><span class="sxs-lookup"><span data-stu-id="794c6-218">Update holographic content</span></span>

<span data-ttu-id="794c6-219">Gli aggiornamenti dell'app di realtà mista in un ciclo di gioco, che per impostazione predefinita viene implementato nel metodo di **aggiornamento** in `AppMain.cpp` .</span><span class="sxs-lookup"><span data-stu-id="794c6-219">Your mixed reality app updates in a game loop, which by default is implemented in the **Update** method in `AppMain.cpp`.</span></span> <span data-ttu-id="794c6-220">Il metodo **Update** aggiorna gli oggetti della scena, ad esempio il cubo rotante, e restituisce un oggetto <a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicframe" target="_blank">HolographicFrame</a> usato per ottenere le matrici di visualizzazione e proiezione aggiornate e per presentare la catena di scambio.</span><span class="sxs-lookup"><span data-stu-id="794c6-220">The **Update** method updates scene objects, like the spinning cube, and returns a <a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicframe" target="_blank">HolographicFrame</a> object that is used to get up-to-date view and projection matrices and to present the swap chain.</span></span>

<span data-ttu-id="794c6-221">Il metodo **Render** in `AppMain.cpp` accetta <a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicframe" target="_blank">HolographicFrame</a> ed esegue il rendering del frame corrente in ogni fotocamera olografica, in base all'app corrente e allo stato di posizionamento spaziale.</span><span class="sxs-lookup"><span data-stu-id="794c6-221">The **Render** method in `AppMain.cpp` takes the <a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicframe" target="_blank">HolographicFrame</a> and renders the current frame to each holographic camera, according to the current app and spatial positioning state.</span></span>

## <a name="notes"></a><span data-ttu-id="794c6-222">Note</span><span class="sxs-lookup"><span data-stu-id="794c6-222">Notes</span></span>

<span data-ttu-id="794c6-223">Il modello di app per la realtà mista di Windows supporta ora la compilazione con il flag di mitigazione Spectre abilitato (/Qspectre).</span><span class="sxs-lookup"><span data-stu-id="794c6-223">The Windows Mixed Reality app template now supports compilation with the Spectre mitigation flag enabled (/Qspectre).</span></span> <span data-ttu-id="794c6-224">Prima di compilare una configurazione con la mitigazione Spectre abilitata, assicurarsi di installare le librerie di runtime di Microsoft Visual C++ (MSVC) per Spectre-mitigate.</span><span class="sxs-lookup"><span data-stu-id="794c6-224">Make sure to install the Spectre-mitigated version of the Microsoft Visual C++ (MSVC) runtime libraries before compiling a configuration with Spectre mitigation enabled.</span></span> <span data-ttu-id="794c6-225">Per installare le librerie C++ con attenuazione Spectre, avviare il Programma di installazione di Visual Studio e selezionare **modifica**.</span><span class="sxs-lookup"><span data-stu-id="794c6-225">To install the Spectre-mitigated C++ libraries, launch the Visual Studio Installer and select **Modify**.</span></span> <span data-ttu-id="794c6-226">Passare a **singoli componenti** e cercare "Spectre".</span><span class="sxs-lookup"><span data-stu-id="794c6-226">Navigate to **Individual components** and search for "spectre".</span></span> <span data-ttu-id="794c6-227">Selezionare le caselle corrispondenti alle piattaforme di destinazione e alla versione di MSVC per cui è necessario compilare il codice con attenuazione Spectre per e fare clic su **modifica** per avviare l'installazione.</span><span class="sxs-lookup"><span data-stu-id="794c6-227">Select the boxes corresponding to the target platforms and MSVC version that you need to compile Spectre-mitigated code for, and click **Modify** to begin the install.</span></span>

## <a name="see-also"></a><span data-ttu-id="794c6-228">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="794c6-228">See also</span></span>
* [<span data-ttu-id="794c6-229">Ottenere un HolographicSpace</span><span class="sxs-lookup"><span data-stu-id="794c6-229">Getting a HolographicSpace</span></span>](getting-a-holographicspace.md)
* <span data-ttu-id="794c6-230"><a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicspaceh" target="_blank">HolographicSpace</a></span><span class="sxs-lookup"><span data-stu-id="794c6-230"><a href="https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographicspaceh" target="_blank">HolographicSpace</a></span></span>
* [<span data-ttu-id="794c6-231">Rendering in DirectX</span><span class="sxs-lookup"><span data-stu-id="794c6-231">Rendering in DirectX</span></span>](rendering-in-directx.md)
* [<span data-ttu-id="794c6-232">Uso di Visual Studio per distribuzione e debug</span><span class="sxs-lookup"><span data-stu-id="794c6-232">Using Visual Studio to deploy and debug</span></span>](../platform-capabilities-and-apis/using-visual-studio.md)
* [<span data-ttu-id="794c6-233">Uso dell'emulatore HoloLens</span><span class="sxs-lookup"><span data-stu-id="794c6-233">Using the HoloLens emulator</span></span>](../platform-capabilities-and-apis/using-the-hololens-emulator.md)
* [<span data-ttu-id="794c6-234">Uso di XAML con app DirectX olografiche</span><span class="sxs-lookup"><span data-stu-id="794c6-234">Using XAML with holographic DirectX apps</span></span>](../platform-capabilities-and-apis/using-xaml-with-holographic-directx-apps.md)
