---
title: Acquisizione di realtà mista per gli sviluppatori
description: Informazioni sulle procedure consigliate per l'abilitazione, l'uso e il rendering dell'acquisizione di realtà mista per gli sviluppatori.
author: mattzmsft
ms.author: mazeller
ms.date: 02/24/2019
ms.topic: article
keywords: MRC, foto, video, acquisizione, fotocamera
ms.openlocfilehash: e55100003859e3581bdd7f6e1da312e1fdd8cf57
ms.sourcegitcommit: 2329db5a76dfe1b844e21291dbc8ee3888ed1b81
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "98009941"
---
# <a name="mixed-reality-capture-for-developers"></a><span data-ttu-id="120db-104">Acquisizione di realtà mista per gli sviluppatori</span><span class="sxs-lookup"><span data-stu-id="120db-104">Mixed reality capture for developers</span></span>

> [!NOTE]
> <span data-ttu-id="120db-105">Per informazioni su una nuova funzionalità MRC per HoloLens 2, vedere [Render dalla fotocamera PV](#render-from-the-pv-camera-opt-in) di seguito.</span><span class="sxs-lookup"><span data-stu-id="120db-105">See [Render from the PV camera](#render-from-the-pv-camera-opt-in) below for guidance on a new MRC capability for HoloLens 2.</span></span>

<span data-ttu-id="120db-106">È possibile eseguire una foto o un video di [acquisizione di realtà mista](../../mixed-reality-capture.md) in qualsiasi momento, ma è necessario tenere presente alcuni aspetti durante lo sviluppo dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="120db-106">You can take a [mixed reality capture](../../mixed-reality-capture.md) (MRC) photo or video at any time, but there are few things to keep in mind when developing your application.</span></span> <span data-ttu-id="120db-107">Sono incluse le procedure consigliate per la qualità visiva di MRC e la reattività delle modifiche di sistema durante l'acquisizione di MRCs.</span><span class="sxs-lookup"><span data-stu-id="120db-107">This includes best practices for MRC visual quality and being responsive to system changes while MRCs are being captured.</span></span>

<span data-ttu-id="120db-108">Gli sviluppatori possono anche integrare facilmente l'acquisizione e l'inserimento di realtà miste nelle proprie app.</span><span class="sxs-lookup"><span data-stu-id="120db-108">Developers can also seamlessly integrate mixed reality capture and insertion into their apps.</span></span>

<span data-ttu-id="120db-109">MRC in HoloLens (prima generazione) supporta video e foto fino a 720p, mentre MRC in HoloLens 2 supporta video fino a 1080p e foto con risoluzione 4K.</span><span class="sxs-lookup"><span data-stu-id="120db-109">MRC on HoloLens (first-generation) supports videos and photos up to 720p, while MRC on HoloLens 2 supports videos up to 1080p and photos up to 4K resolution.</span></span>

## <a name="the-importance-of-quality-mrc"></a><span data-ttu-id="120db-110">Importanza della qualità MRC</span><span class="sxs-lookup"><span data-stu-id="120db-110">The importance of quality MRC</span></span>

<span data-ttu-id="120db-111">Che si tratti di schermate di realtà miste nella pagina Microsoft Store o in altri utenti che condividono il contenuto di acquisizione nei social network, i supporti per l'acquisizione di realtà mista sono spesso utenti che prima si esprimono all'app.</span><span class="sxs-lookup"><span data-stu-id="120db-111">Whether it's mixed reality screenshots on your Microsoft Store page or other users sharing capture content on social networks, Mixed Reality Capture media is often a users first exposure to your app.</span></span> <span data-ttu-id="120db-112">È possibile usare MRC per dimostrarne l'app, istruire gli utenti, incoraggiare gli utenti a condividere le interazioni tra il mondo misto e la ricerca degli utenti e la risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="120db-112">You can use MRC to demo your app, educate users, encourage users to share their mixed world interactions, and for user research and problem solving.</span></span>

## <a name="how-mrc-impacts-your-app"></a><span data-ttu-id="120db-113">Effetti di MRC sull'app</span><span class="sxs-lookup"><span data-stu-id="120db-113">How MRC impacts your app</span></span>

### <a name="enabling-mrc-in-your-app"></a><span data-ttu-id="120db-114">Abilitazione di MRC nell'app</span><span class="sxs-lookup"><span data-stu-id="120db-114">Enabling MRC in your app</span></span>

<span data-ttu-id="120db-115">Per impostazione predefinita, un'app non deve eseguire alcuna operazione per consentire agli utenti di eseguire acquisizioni di realtà miste.</span><span class="sxs-lookup"><span data-stu-id="120db-115">By default, an app doesn't have to do anything to enable users to take mixed reality captures.</span></span>

### <a name="enabling-improved-alignment-for-mrc-in-your-app"></a><span data-ttu-id="120db-116">Abilitazione dell'allineamento migliorato per MRC nell'app</span><span class="sxs-lookup"><span data-stu-id="120db-116">Enabling improved alignment for MRC in your app</span></span>

<span data-ttu-id="120db-117">Per impostazione predefinita, l'acquisizione di realtà mista combina l'output olografico dell'occhio destro con la fotocamera Photo/video (PV).</span><span class="sxs-lookup"><span data-stu-id="120db-117">By default, mixed reality capture combines the right eye's holographic output with the photo/video (PV) camera.</span></span> <span data-ttu-id="120db-118">Queste due origini vengono combinate usando il punto di interesse impostato dall'app immersiva attualmente in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="120db-118">These two sources are combined using the focus point set by the currently running immersive app.</span></span>

<span data-ttu-id="120db-119">Ciò significa che gli ologrammi al di fuori del piano di attivazione non verranno allineati a causa della distanza fisica tra la fotocamera FV e la visualizzazione destra.</span><span class="sxs-lookup"><span data-stu-id="120db-119">This means that holograms outside the focus plane won't align because of the physical distance between the PV camera and the right display.</span></span>

#### <a name="set-the-focus-point"></a><span data-ttu-id="120db-120">Imposta il punto di attivazione</span><span class="sxs-lookup"><span data-stu-id="120db-120">Set the focus point</span></span>

<span data-ttu-id="120db-121">Le app immersive (in HoloLens) devono impostare il [punto di messa a fuoco](../unity/focus-point-in-unity.md) per la posizione desiderata per il piano di stabilizzazione.</span><span class="sxs-lookup"><span data-stu-id="120db-121">Immersive apps (on HoloLens) should set the [focus point](../unity/focus-point-in-unity.md) of where they want their stabilization plane to be.</span></span> <span data-ttu-id="120db-122">In questo modo si garantisce il migliore allineamento nell'auricolare e nell'acquisizione di realtà mista.</span><span class="sxs-lookup"><span data-stu-id="120db-122">This ensures the best alignment in both the headset and in mixed reality capture.</span></span>

<span data-ttu-id="120db-123">Se non è impostato un punto di attivazione, il piano di stabilizzazione utilizzerà per impostazione predefinita 2 metri.</span><span class="sxs-lookup"><span data-stu-id="120db-123">If a focus point isn't set, the stabilization plane will default to 2 meters.</span></span>

#### <a name="render-from-the-pv-camera-opt-in"></a><span data-ttu-id="120db-124">Rendering dalla fotocamera PV (consenso esplicito)</span><span class="sxs-lookup"><span data-stu-id="120db-124">Render from the PV camera (opt-in)</span></span>

<span data-ttu-id="120db-125">HoloLens 2 aggiunge la possibilità di eseguire il rendering di un'app immersiva **dalla fotocamera PV** mentre è in esecuzione l'acquisizione di realtà mista.</span><span class="sxs-lookup"><span data-stu-id="120db-125">HoloLens 2 adds the ability for an immersive app to **render from the PV camera** while mixed reality capture is running.</span></span> <span data-ttu-id="120db-126">Per assicurarsi che l'app supporti correttamente il rendering aggiuntivo, l'app deve acconsentire esplicitamente a questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="120db-126">To ensure the app supports the additional render correctly, the app has to opt in to this functionality.</span></span>

<span data-ttu-id="120db-127">Il rendering dalla fotocamera PV offre i miglioramenti seguenti rispetto all'esperienza MRC predefinita:</span><span class="sxs-lookup"><span data-stu-id="120db-127">Render from the PV camera offers the following improvements over the default MRC experience:</span></span>
* <span data-ttu-id="120db-128">L'allineamento degli ologrammi all'ambiente fisico e le mani per le interazioni near dovrebbero essere accurate a tutte le distanze.</span><span class="sxs-lookup"><span data-stu-id="120db-128">Hologram alignment to your physical environment and hands for near interactions should be accurate at all distances.</span></span> <span data-ttu-id="120db-129">Evitare di avere un offset a distanza diverso dal punto di messa a fuoco come si può vedere nell'impostazione predefinita MRC.</span><span class="sxs-lookup"><span data-stu-id="120db-129">Avoid having an offset at distances other than the focus point as you might see in the default MRC.</span></span>
* <span data-ttu-id="120db-130">L'occhio destro nell'auricolare non verrà compromesso, perché non verrà usato per il rendering degli ologrammi per l'output di MRC.</span><span class="sxs-lookup"><span data-stu-id="120db-130">The right eye in the headset won't be compromised, as it won't be used to render the holograms for the MRC output.</span></span>

<span data-ttu-id="120db-131">Per abilitare il rendering dalla fotocamera PV sono disponibili tre passaggi:</span><span class="sxs-lookup"><span data-stu-id="120db-131">There are three steps to enable rendering from the PV camera:</span></span>
1. <span data-ttu-id="120db-132">Abilitare il HolographicViewConfiguration PhotoVideoCamera</span><span class="sxs-lookup"><span data-stu-id="120db-132">Enable the PhotoVideoCamera HolographicViewConfiguration</span></span>
2. <span data-ttu-id="120db-133">Gestire il rendering HolographicCamera aggiuntivo</span><span class="sxs-lookup"><span data-stu-id="120db-133">Handle the additional HolographicCamera render</span></span>
3. <span data-ttu-id="120db-134">Verificare che gli shader e il rendering del codice siano corretti da questa HolographicCamera aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="120db-134">Verify your shaders and code render correctly from this additional HolographicCamera</span></span>

##### <a name="enable-the-photovideocamera-holographicviewconfiguration-in-directx"></a><span data-ttu-id="120db-135">Abilitare il HolographicViewConfiguration di PhotoVideoCamera in DirectX</span><span class="sxs-lookup"><span data-stu-id="120db-135">Enable the PhotoVideoCamera HolographicViewConfiguration in DirectX</span></span>

<span data-ttu-id="120db-136">Per acconsentire esplicitamente al rendering dalla fotocamera PV, un'app Abilita semplicemente il [HolographicViewConfiguration](https://docs.microsoft.com/uwp/api/Windows.Graphics.Holographic.HolographicViewConfiguration)di PhotoVideoCamera:</span><span class="sxs-lookup"><span data-stu-id="120db-136">To opt in to rendering from the PV Camera, an app simply enables the PhotoVideoCamera's [HolographicViewConfiguration](https://docs.microsoft.com/uwp/api/Windows.Graphics.Holographic.HolographicViewConfiguration):</span></span>
```csharp
var display = Windows.Graphics.Holographic.HolographicDisplay.GetDefault();
var view = display.TryGetViewConfiguration(Windows.Graphics.Holographic.HolographicViewConfigurationKind.PhotoVideoCamera);
if (view != null)
{
    view.IsEnabled = true;
}
```

##### <a name="handle-the-additional-holographiccamera-render-in-directx"></a><span data-ttu-id="120db-137">Gestire il rendering HolographicCamera aggiuntivo in DirectX</span><span class="sxs-lookup"><span data-stu-id="120db-137">Handle the additional HolographicCamera render in DirectX</span></span>

<span data-ttu-id="120db-138">Quando l'app ha acconsentito esplicitamente al rendering dalla fotocamera PV e viene avviata l'acquisizione di realtà mista:</span><span class="sxs-lookup"><span data-stu-id="120db-138">When the app has opt-in to render from the PV camera and mixed reality capture starts:</span></span>
1. <span data-ttu-id="120db-139">L'evento CameraAdded di HolographicSpace viene attivato.</span><span class="sxs-lookup"><span data-stu-id="120db-139">HolographicSpace's CameraAdded event will fire.</span></span> <span data-ttu-id="120db-140">Questo evento può essere rinviato se l'app non è in grado di gestire la fotocamera in questo momento.</span><span class="sxs-lookup"><span data-stu-id="120db-140">This event can be deferred if the app can't handle the camera at this time.</span></span>
2. <span data-ttu-id="120db-141">Una volta che l'evento è stato completato senza rinvii in attesa, il HolographicCamera verrà visualizzato nell'elenco AddedCameras di HolographicFrame successivo.</span><span class="sxs-lookup"><span data-stu-id="120db-141">Once the event has completed with no outstanding deferrals, the HolographicCamera will appear in the next HolographicFrame's AddedCameras list.</span></span>

<span data-ttu-id="120db-142">Quando l'acquisizione di realtà mista viene arrestata (o se l'app Disabilita la configurazione della visualizzazione mentre è in esecuzione l'acquisizione della realtà mista): HolographicCamera verrà visualizzato nell'elenco RemovedCameras di HolographicFrame successivo e verrà attivato l'evento CameraRemoved di HolographicSpace.</span><span class="sxs-lookup"><span data-stu-id="120db-142">When mixed reality capture stops (or if the app disables the view configuration while mixed reality capture is running): the HolographicCamera will appear in the next HolographicFrame's RemovedCameras list and the HolographicSpace's CameraRemoved event will fire.</span></span>

<span data-ttu-id="120db-143">Una proprietà [ViewConfiguration](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamera.viewconfiguration) è stata aggiunta a HolographicCamera per facilitare l'identificazione della configurazione a cui appartiene la fotocamera.</span><span class="sxs-lookup"><span data-stu-id="120db-143">A [ViewConfiguration](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamera.viewconfiguration) property has been added to HolographicCamera to help identify the configuration a camera belongs to.</span></span>

##### <a name="enable-the-photovideocamera-holographicviewconfiguration-in-unity"></a><span data-ttu-id="120db-144">Abilitare il HolographicViewConfiguration di PhotoVideoCamera in Unity</span><span class="sxs-lookup"><span data-stu-id="120db-144">Enable the PhotoVideoCamera HolographicViewConfiguration in Unity</span></span>

> [!NOTE]
> <span data-ttu-id="120db-145">Questa operazione richiede **Unity 2018.4.13 F1**, **Unity 2019.3.0 F1** o versione successiva.</span><span class="sxs-lookup"><span data-stu-id="120db-145">This requires **Unity 2018.4.13f1**, **Unity 2019.3.0f1**, or newer.</span></span>

<span data-ttu-id="120db-146">Per acconsentire esplicitamente al rendering dalla fotocamera PV quando si usa il [Toolkit di realtà mista](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html), abilitare il provider di [impostazioni della camera di realtà mista di Windows](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/CameraSystem/WindowsMixedRealityCameraSettings.html) e selezionare **il rendering dalla fotocamera FV**.</span><span class="sxs-lookup"><span data-stu-id="120db-146">To opt in to rendering from the PV Camera when using the [Mixed Reality Toolkit](https://microsoft.github.io/MixedRealityToolkit-Unity/README.html), enable the [Windows Mixed Reality Camera Settings](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/CameraSystem/WindowsMixedRealityCameraSettings.html) provider and check **Render from PV Camera**.</span></span>

<span data-ttu-id="120db-147">Se non si usa il Toolkit di realtà mista, è possibile usare un componente per [acconsentire manualmente](#enable-the-photovideocamera-holographicviewconfiguration-in-directx) come descritto in precedenza per DirectX.</span><span class="sxs-lookup"><span data-stu-id="120db-147">If you're not using the Mixed Reality Toolkit, you can use a component to [manually opt-in](#enable-the-photovideocamera-holographicviewconfiguration-in-directx) as described above for DirectX.</span></span>

##### <a name="handle-the-additional-holographiccamera-render-in-unity"></a><span data-ttu-id="120db-148">Gestire il rendering di HolographicCamera aggiuntivo in Unity</span><span class="sxs-lookup"><span data-stu-id="120db-148">Handle the additional HolographicCamera render in Unity</span></span>

<span data-ttu-id="120db-149">Questa operazione viene eseguita automaticamente da Unity.</span><span class="sxs-lookup"><span data-stu-id="120db-149">This is done for you automatically by Unity.</span></span>

##### <a name="enable-the-photovideocamera-holographicviewconfiguration-in-unreal"></a><span data-ttu-id="120db-150">Abilita PhotoVideoCamera HolographicViewConfiguration in Unreal</span><span class="sxs-lookup"><span data-stu-id="120db-150">Enable the PhotoVideoCamera HolographicViewConfiguration in Unreal</span></span>

> [!NOTE]
> <span data-ttu-id="120db-151">Questa operazione richiede **Unreal Engine 4.25** o versioni successive.</span><span class="sxs-lookup"><span data-stu-id="120db-151">This requires **Unreal Engine 4.25** or newer.</span></span>

<span data-ttu-id="120db-152">Per acconsentire esplicitamente al rendering dalla fotocamera/videocamera:</span><span class="sxs-lookup"><span data-stu-id="120db-152">To opt in to rendering from the PV Camera:</span></span>

1. <span data-ttu-id="120db-153">Chiama **SetEnabledMixedRealityCamera** e **ResizeMixedRealityCamera**.</span><span class="sxs-lookup"><span data-stu-id="120db-153">Call **SetEnabledMixedRealityCamera** and **ResizeMixedRealityCamera**</span></span>
    * <span data-ttu-id="120db-154">Usa i valori **Size X** (Dimensione X) e **Size Y** (Dimensione Y) per impostare le dimensioni video.</span><span class="sxs-lookup"><span data-stu-id="120db-154">Use the **Size X** and **Size Y** values to set the video dimensions.</span></span>

![Terza fotocamera](images/unreal-camera-3rd.PNG)

##### <a name="handle-the-additional-holographiccamera-render-in-unreal"></a><span data-ttu-id="120db-156">Gestire il rendering di HolographicCamera aggiuntivo in Unreal</span><span class="sxs-lookup"><span data-stu-id="120db-156">Handle the additional HolographicCamera render in Unreal</span></span>

<span data-ttu-id="120db-157">Questa operazione viene eseguita automaticamente da Unreal.</span><span class="sxs-lookup"><span data-stu-id="120db-157">This is done for you automatically by Unreal.</span></span>

##### <a name="verify-shaders-and-code-support-additional-cameras"></a><span data-ttu-id="120db-158">Verificare lo shader e il codice supportano fotocamere aggiuntive</span><span class="sxs-lookup"><span data-stu-id="120db-158">Verify shaders and code support additional cameras</span></span>

<span data-ttu-id="120db-159">Eseguire un'acquisizione di realtà mista e verificare l'allineamento insolito, il contenuto mancante o problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="120db-159">Run a mixed reality capture and check for unusual alignment, missing content, or performance issues.</span></span> <span data-ttu-id="120db-160">Aggiornare gli shader e il codice nel modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="120db-160">Update shaders and code as appropriate.</span></span>

<span data-ttu-id="120db-161">Se sono presenti alcune scene che non supportano il rendering in una fotocamera aggiuntiva, è possibile disabilitare il HolographicViewConfiguration di PhotoVideoCamera.</span><span class="sxs-lookup"><span data-stu-id="120db-161">If there are certain scenes that can't support rendering to an additional camera, you can disable the PhotoVideoCamera's HolographicViewConfiguration.</span></span>

### <a name="disabling-mrc-in-your-app"></a><span data-ttu-id="120db-162">Disabilitazione di MRC nell'app</span><span class="sxs-lookup"><span data-stu-id="120db-162">Disabling MRC in your app</span></span>

#### <a name="2d-app"></a><span data-ttu-id="120db-163">app 2D</span><span class="sxs-lookup"><span data-stu-id="120db-163">2D app</span></span>

<span data-ttu-id="120db-164">le app 2D possono scegliere di nascondere il contenuto visivo quando l'acquisizione di realtà mista viene eseguita da:</span><span class="sxs-lookup"><span data-stu-id="120db-164">2D apps can choose to have their visual content obscured when mixed reality capture is running by:</span></span>
* <span data-ttu-id="120db-165">Presente con il flag di [DXGI_PRESENT_RESTRICT_TO_OUTPUT](https://docs.microsoft.com/windows/desktop/direct3ddxgi/dxgi-present)</span><span class="sxs-lookup"><span data-stu-id="120db-165">Present with the [DXGI_PRESENT_RESTRICT_TO_OUTPUT](https://docs.microsoft.com/windows/desktop/direct3ddxgi/dxgi-present) flag</span></span>
* <span data-ttu-id="120db-166">Creare la catena di scambio dell'app con il flag di [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](https://docs.microsoft.com/windows/desktop/api/dxgi/ne-dxgi-dxgi_swap_chain_flag)</span><span class="sxs-lookup"><span data-stu-id="120db-166">Create the app's swap chain with the [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](https://docs.microsoft.com/windows/desktop/api/dxgi/ne-dxgi-dxgi_swap_chain_flag) flag</span></span>
* <span data-ttu-id="120db-167">Con l'aggiornamento di Windows 10 maggio 2019, impostando [IsScreenCaptureEnabled](https://docs.microsoft.com/uwp/api/windows.ui.viewmanagement.applicationview.isscreencaptureenabled) di ApplicationView</span><span class="sxs-lookup"><span data-stu-id="120db-167">With the Windows 10 May 2019 Update, setting ApplicationView's [IsScreenCaptureEnabled](https://docs.microsoft.com/uwp/api/windows.ui.viewmanagement.applicationview.isscreencaptureenabled)</span></span>

#### <a name="immersive-app"></a><span data-ttu-id="120db-168">App immersiva</span><span class="sxs-lookup"><span data-stu-id="120db-168">Immersive app</span></span>

<span data-ttu-id="120db-169">Le app immersive possono scegliere di escludere il contenuto visivo dall'acquisizione di realtà mista:</span><span class="sxs-lookup"><span data-stu-id="120db-169">Immersive apps can choose to have their visual content excluded from mixed reality capture by:</span></span>
* <span data-ttu-id="120db-170">Impostazione del [IsContentProtectionEnabled](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamerarenderingparameters.iscontentprotectionenabled) di HolographicCameraRenderingParameter per disabilitare l'acquisizione di realtà mista per il frame associato</span><span class="sxs-lookup"><span data-stu-id="120db-170">Setting HolographicCameraRenderingParameter's [IsContentProtectionEnabled](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamerarenderingparameters.iscontentprotectionenabled) to disable mixed reality capture for its associated frame</span></span>
* <span data-ttu-id="120db-171">Impostazione del [IsHardwareContentProtectionEnabled](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamera.ishardwarecontentprotectionenabled) di HolographicCamera per disabilitare l'acquisizione di realtà mista per la fotocamera olografica associata</span><span class="sxs-lookup"><span data-stu-id="120db-171">Setting HolographicCamera's [IsHardwareContentProtectionEnabled](https://docs.microsoft.com/uwp/api/windows.graphics.holographic.holographiccamera.ishardwarecontentprotectionenabled) to disable mixed reality capture for its associated holographic camera</span></span>

#### <a name="password-keyboard"></a><span data-ttu-id="120db-172">Tastiera password</span><span class="sxs-lookup"><span data-stu-id="120db-172">Password Keyboard</span></span>

<span data-ttu-id="120db-173">Con l'aggiornamento di Windows 10 maggio 2019, il contenuto visivo viene automaticamente escluso dall'acquisizione di realtà mista quando è visibile una password o un PIN.</span><span class="sxs-lookup"><span data-stu-id="120db-173">With the Windows 10 May 2019 Update, visual content is automatically excluded from mixed reality capture when a password or pin keyboard is visible.</span></span>

### <a name="knowing-when-mrc-is-active"></a><span data-ttu-id="120db-174">Sapere quando MRC è attivo</span><span class="sxs-lookup"><span data-stu-id="120db-174">Knowing when MRC is active</span></span>

<span data-ttu-id="120db-175">La classe [AppCapture](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.AppCapture) può essere usata da un'app per capire quando viene eseguita l'acquisizione di realtà mista di sistema (per audio o video).</span><span class="sxs-lookup"><span data-stu-id="120db-175">The [AppCapture](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.AppCapture) class can be used by an app to know when system mixed reality capture is running (for either audio or video).</span></span>

>[!NOTE]
><span data-ttu-id="120db-176">L'API [GetForCurrentView](https://docs.microsoft.com/uwp/api/windows.media.capture.appcapture.getforcurrentview) di AppCapture può restituire null se l'acquisizione di realtà mista non è disponibile nel dispositivo.</span><span class="sxs-lookup"><span data-stu-id="120db-176">AppCapture's [GetForCurrentView](https://docs.microsoft.com/uwp/api/windows.media.capture.appcapture.getforcurrentview) API can return null if mixed reality capture isn't available on the device.</span></span> <span data-ttu-id="120db-177">È anche importante annullare la registrazione dell'evento CapturingChanged quando l'app viene sospesa. in caso contrario, MRC può entrare in uno stato bloccato.</span><span class="sxs-lookup"><span data-stu-id="120db-177">It's also important to de-register the CapturingChanged event when your app is suspended, otherwise MRC can get into a blocked state.</span></span>

### <a name="best-practices-hololens-specific"></a><span data-ttu-id="120db-178">Procedure consigliate (specifiche di HoloLens)</span><span class="sxs-lookup"><span data-stu-id="120db-178">Best practices (HoloLens-specific)</span></span>

<span data-ttu-id="120db-179">È previsto che MRC funzioni senza ulteriori sforzi di sviluppo, ma è necessario tenere presenti alcuni aspetti quando si fornisce la migliore esperienza di acquisizione di realtà mista.</span><span class="sxs-lookup"><span data-stu-id="120db-179">MRC is expected to work without additional development effort, but there are a few things to be aware of when providing the best mixed reality capture experience.</span></span>

<span data-ttu-id="120db-180">**MRC usa il canale alfa dell'ologramma per fondersi con le immagini della [fotocamera](locatable-camera.md)**</span><span class="sxs-lookup"><span data-stu-id="120db-180">**MRC uses the hologram’s alpha channel to blend with the [camera](locatable-camera.md) imagery**</span></span>

<span data-ttu-id="120db-181">Il passaggio più importante consiste nel verificare che l'app venga cancellata in nero trasparente anziché in un nero opaco.</span><span class="sxs-lookup"><span data-stu-id="120db-181">The most important step is to make sure your app is clearing to transparent black instead of clearing to opaque black.</span></span> <span data-ttu-id="120db-182">In Unity questa operazione viene eseguita per impostazione predefinita con MixedRealityToolkit.</span><span class="sxs-lookup"><span data-stu-id="120db-182">In Unity, this is done by default with the MixedRealityToolkit.</span></span> <span data-ttu-id="120db-183">Se si sta sviluppando in non Unity, potrebbe essere necessario apportare una modifica a una riga.</span><span class="sxs-lookup"><span data-stu-id="120db-183">If you're developing in non-Unity, you may need to make a one line change.</span></span>

<span data-ttu-id="120db-184">Di seguito sono riportati alcuni elementi che potrebbero essere visualizzati in MRC se l'app non viene cancellata in nero trasparente:</span><span class="sxs-lookup"><span data-stu-id="120db-184">Here are some of the artifacts you might see in MRC if your app isn't clearing to transparent black:</span></span>

<span data-ttu-id="120db-185">**Errori di esempio**: bordi neri intorno al contenuto (da cancellare a nero trasparente)</span><span class="sxs-lookup"><span data-stu-id="120db-185">**Example Failures**: Black edges around the content (failing to clear to transparent black)</span></span>

<table>
<tr>
<td>
<img src="images/chessboardblackedges-300px.jpg" alt="Failure to clear to transparent black: black edge artifacts around holograms"/>
</td>
<td>
<img src="images/fieldblackedges-300px.jpg" alt="Failing to clear to transparent black: black edge artifacts around holograms"/>
</td>
</tr>
</table>

<span data-ttu-id="120db-186">**Errori di esempio**: l'intera scena di sfondo dell'ologramma appare nera.</span><span class="sxs-lookup"><span data-stu-id="120db-186">**Example Failures**: The entire background scene of the hologram appears black.</span></span> <span data-ttu-id="120db-187">L'impostazione di un valore alfa in background di un risultato in uno sfondo nero</span><span class="sxs-lookup"><span data-stu-id="120db-187">Setting a background alpha value of one results in a black background</span></span>

![L'impostazione di un valore alfa in background di 1 produce uno sfondo nero](images/clearopaqueblack-300px.png)

<span data-ttu-id="120db-189">**Risultato previsto**: gli ologrammi appaiono correttamente combinati con il mondo reale (risultato previsto se cancellando il nero trasparente)</span><span class="sxs-lookup"><span data-stu-id="120db-189">**Expected Result**: Holograms appear properly blended with the real-world (expected result if clearing to transparent black)</span></span>

![Risultato previsto per la cancellazione del nero trasparente](images/cleartransparentblack-300px.png)

<span data-ttu-id="120db-191">**Soluzione**:</span><span class="sxs-lookup"><span data-stu-id="120db-191">**Solution**:</span></span>
* <span data-ttu-id="120db-192">Modificare il contenuto visualizzato come nero opaco per avere un valore alfa pari a 0.</span><span class="sxs-lookup"><span data-stu-id="120db-192">Change any content that is showing up as opaque black to have an alpha value of 0.</span></span>
* <span data-ttu-id="120db-193">Assicurarsi che l'app venga cancellata in nero trasparente.</span><span class="sxs-lookup"><span data-stu-id="120db-193">Ensure that the app is clearing to transparent black.</span></span>
* <span data-ttu-id="120db-194">Unity usa le impostazioni predefinite per cancellare automaticamente il valore di MixedRealityToolkit, ma se si tratta di un'app non Unity è necessario modificare il colore usato con ID3D11DeiceContext:: ClearRenderTargetView ().</span><span class="sxs-lookup"><span data-stu-id="120db-194">Unity defaults to clear automatically with the MixedRealityToolkit, but if it’s a non-Unity app you should modify the color used with ID3D11DeiceContext::ClearRenderTargetView().</span></span> <span data-ttu-id="120db-195">Si desidera assicurarsi di deselezionare il nero trasparente (0, 0, 0, 0) invece del nero opaco (0, 0, 0, 1).</span><span class="sxs-lookup"><span data-stu-id="120db-195">You want to ensure you clear to transparent black (0,0,0,0) instead of opaque black (0,0,0,1).</span></span>

<span data-ttu-id="120db-196">È ora possibile ottimizzare i valori alfa delle risorse, se si preferisce, ma in genere non è necessario.</span><span class="sxs-lookup"><span data-stu-id="120db-196">You can now tune the alpha values of your assets if you’d like, but typically don’t need to.</span></span> <span data-ttu-id="120db-197">Nella maggior parte dei casi, MRCs sarà perfetto.</span><span class="sxs-lookup"><span data-stu-id="120db-197">Most of the time, MRCs will look good out of the box.</span></span> <span data-ttu-id="120db-198">MRC presuppone l'alfa premoltiplicato.</span><span class="sxs-lookup"><span data-stu-id="120db-198">MRC assumes pre-multiplied alpha.</span></span> <span data-ttu-id="120db-199">I valori alfa avranno effetto solo sull'acquisizione di MRC.</span><span class="sxs-lookup"><span data-stu-id="120db-199">The alpha values will only affect the MRC capture.</span></span>

### <a name="what-to-expect-when-mrc-is-enabled-on-hololens"></a><span data-ttu-id="120db-200">Cosa aspettarsi quando MRC è abilitato in HoloLens</span><span class="sxs-lookup"><span data-stu-id="120db-200">What to expect when MRC is enabled on HoloLens</span></span>

<span data-ttu-id="120db-201">Le condizioni seguenti si applicano sia a HoloLens (First-Generation) che a HoloLens 2, salvo diversa indicazione:</span><span class="sxs-lookup"><span data-stu-id="120db-201">The following apply to both HoloLens (first-generation) and HoloLens 2, unless otherwise noted:</span></span>

* <span data-ttu-id="120db-202">Il sistema limiterà l'applicazione al rendering a 30 Hz.</span><span class="sxs-lookup"><span data-stu-id="120db-202">The system will throttle the application to 30-Hz rendering.</span></span> <span data-ttu-id="120db-203">Questa operazione crea una certa capacità per l'esecuzione di MRC, in modo che l'app non debba tenere una riserva di budget costante e corrisponda anche al framerate dei record video MRC di 30 fps</span><span class="sxs-lookup"><span data-stu-id="120db-203">This creates some headroom for MRC to run so the app doesn’t need to keep a constant budget reserve and also matches the MRC video record framerate of 30 fps</span></span>
* <span data-ttu-id="120db-204">Il contenuto dell'ologramma nell'occhio destro del dispositivo può sembrare "scintillante" durante la registrazione/streaming MRC: il testo potrebbe diventare più difficile da leggere e i bordi dell'ologramma potrebbero apparire più frastagliati (la scelta del rendering della terza fotocamera in **HoloLens 2** evita questa compromissione)</span><span class="sxs-lookup"><span data-stu-id="120db-204">Hologram content in the right eye of the device may appear to “sparkle” when recording/streaming MRC: text may become more difficult to read and hologram edges may appear more jaggy (opting in to third camera render on **HoloLens 2** avoids this compromise)</span></span>
* <span data-ttu-id="120db-205">Le foto e i video di MRC rispetteranno il [punto di interesse](../unity/focus-point-in-unity.md) dell'applicazione se l'applicazione lo ha abilitato, in modo da garantire la corretta posizionamento degli ologrammi.</span><span class="sxs-lookup"><span data-stu-id="120db-205">MRC photos and videos will respect the application’s [focus point](../unity/focus-point-in-unity.md) if the application has enabled it, which will help ensure holograms are accurately positioned.</span></span> <span data-ttu-id="120db-206">Per i video, il punto di messa a fuoco è smussato, in modo che gli ologrammi possano sembrare lentamente posizionati se la profondità del punto di messa a fuoco cambia significativamente.</span><span class="sxs-lookup"><span data-stu-id="120db-206">For videos, the Focus Point is smoothed so holograms may appear to slowly drift into place if the Focus Point depth changes significantly.</span></span> <span data-ttu-id="120db-207">Gli ologrammi che si trovano in profondità diverse dal punto di interesse possono apparire in offset rispetto al mondo reale (vedere l'esempio riportato di seguito, in cui il punto di messa a fuoco è impostato su 2 metri, ma l'ologramma è posizionato a 1 contatore).</span><span class="sxs-lookup"><span data-stu-id="120db-207">Holograms that are at different depths from the focus point may appear offset from the real world (see example below where Focus Point is set at 2 meters but hologram is positioned at 1 meter).</span></span>

![Gli ologrammi a 2 metri verranno visualizzati perfettamente registrati nel mondo.](images/hologramaccuracydistancemrc-1000px.png)

## <a name="integrating-mrc-functionality-from-within-your-app"></a><span data-ttu-id="120db-210">Integrazione della funzionalità MRC dall'interno dell'app</span><span class="sxs-lookup"><span data-stu-id="120db-210">Integrating MRC functionality from within your app</span></span>

<span data-ttu-id="120db-211">L'app per realtà mista può avviare l'acquisizione di foto o video MRC dall'interno dell'app e il contenuto acquisito viene reso disponibile per l'app senza essere archiviato nel "rullo della fotocamera" del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="120db-211">Your mixed reality app can start MRC photo or video capture from within the app, and the content captured is made available to your app without being stored to the device's "Camera roll."</span></span> <span data-ttu-id="120db-212">È possibile creare un registratore MRC personalizzato o sfruttare l'interfaccia utente di acquisizione della fotocamera incorporata.</span><span class="sxs-lookup"><span data-stu-id="120db-212">You can create a custom MRC recorder or take advantage of built-in camera capture UI.</span></span> 

### <a name="mrc-with-built-in-camera-ui"></a><span data-ttu-id="120db-213">MRC con interfaccia utente integrata della fotocamera</span><span class="sxs-lookup"><span data-stu-id="120db-213">MRC with built-in camera UI</span></span>

<span data-ttu-id="120db-214">Gli sviluppatori possono usare l' *[API dell'interfaccia utente di acquisizione della fotocamera](https://docs.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* per ottenere una foto o un video della realtà mista acquisita dall'utente con poche righe di codice.</span><span class="sxs-lookup"><span data-stu-id="120db-214">Developers can use the *[Camera Capture UI API](https://docs.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* to get a user-captured mixed reality photo or video with just a few lines of code.</span></span>

<span data-ttu-id="120db-215">Questa API avvia l'interfaccia utente della fotocamera MRC incorporata in cui gli utenti possono scattare una foto o un video e restituisce l'acquisizione risultante all'app.</span><span class="sxs-lookup"><span data-stu-id="120db-215">This API launches the built-in MRC camera UI where users can take a photo or video and returns the resulting capture to your app.</span></span> <span data-ttu-id="120db-216">È possibile creare un registratore di acquisizione di realtà mista personalizzato se è necessario aggiungere l'interfaccia utente della fotocamera o l'accesso di livello inferiore per acquisire i flussi.</span><span class="sxs-lookup"><span data-stu-id="120db-216">You can create a custom Mixed Reality Capture recorder if you need to add your own camera UI or lower-level access to capture streams.</span></span>

### <a name="creating-a-custom-mrc-recorder"></a><span data-ttu-id="120db-217">Creazione di un registratore MRC personalizzato</span><span class="sxs-lookup"><span data-stu-id="120db-217">Creating a custom MRC recorder</span></span>

<span data-ttu-id="120db-218">Mentre l'utente può sempre attivare una foto o un video usando il servizio di acquisizione di sistema MRC, un'applicazione potrebbe voler creare un'app fotocamera personalizzata che includa gli ologrammi nel flusso della fotocamera proprio come MRC.</span><span class="sxs-lookup"><span data-stu-id="120db-218">While the user can always trigger a photo or video using the system MRC capture service, an application may want to build a custom camera app that include holograms in the camera stream just like MRC.</span></span> <span data-ttu-id="120db-219">Ciò consente all'applicazione di avviare le acquisizioni dall'input dell'utente, creare un'interfaccia utente di registrazione personalizzata o personalizzare le impostazioni MRC per citare alcuni esempi.</span><span class="sxs-lookup"><span data-stu-id="120db-219">This allows the application to kick off captures from user input, build custom recording UI, or customize MRC settings to name a few examples.</span></span>

<span data-ttu-id="120db-220">**HoloStudio aggiunge una fotocamera MRC personalizzata usando gli effetti di MRC**</span><span class="sxs-lookup"><span data-stu-id="120db-220">**HoloStudio adds a custom MRC camera using MRC effects**</span></span>

![HoloStudio aggiunge una fotocamera MRC personalizzata usando gli effetti di MRC](images/cameraiconholostudio-300px.jpg)

<span data-ttu-id="120db-222">Le applicazioni Unity dovrebbero vedere [Locatable_camera_in_Unity](../unity/locatable-camera-in-unity.md) per la proprietà per abilitare gli ologrammi.</span><span class="sxs-lookup"><span data-stu-id="120db-222">Unity Applications should see [Locatable_camera_in_Unity](../unity/locatable-camera-in-unity.md) for the property to enable holograms.</span></span>

<span data-ttu-id="120db-223">Altre applicazioni possono eseguire questa operazione usando le [API di acquisizione di Windows Media](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.MediaCapture) per controllare la fotocamera e aggiungere un effetto video e audio MRC per includere ologrammi virtuali e audio dell'applicazione in stills e video.</span><span class="sxs-lookup"><span data-stu-id="120db-223">Other applications can do this by using the [Windows Media Capture APIs](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.MediaCapture) to control the Camera and add an MRC Video and Audio effect to include virtual holograms and application audio in stills and videos.</span></span>

<span data-ttu-id="120db-224">Le applicazioni hanno due opzioni per aggiungere l'effetto:</span><span class="sxs-lookup"><span data-stu-id="120db-224">Applications have two options to add the effect:</span></span>
* <span data-ttu-id="120db-225">API precedente: [Windows. Media. Capture. MediaCapture. AddEffectAsync ()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addeffectasync)</span><span class="sxs-lookup"><span data-stu-id="120db-225">The older API: [Windows.Media.Capture.MediaCapture.AddEffectAsync()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addeffectasync)</span></span>
* <span data-ttu-id="120db-226">La nuova API consigliata da Microsoft (restituisce un oggetto, che consente di modificare le proprietà dinamiche): [Windows. Media. Capture. MediaCapture. AddVideoEffectAsync ()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addvideoeffectasync)  /  [Windows. Media. Capture. MediaCapture. AddAudioEffectAsync ()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addaudioeffectasync) che richiedono che l'app crei una propria implementazione di [IVideoEffectDefinition](https://docs.microsoft.com/uwp/api/Windows.Media.Effects.IVideoEffectDefinition) e [IAudioEffectDefinition](https://docs.microsoft.com/uwp/api/windows.media.effects.iaudioeffectdefinition).</span><span class="sxs-lookup"><span data-stu-id="120db-226">The new Microsoft recommended API (returns an object, making it possible to manipulate dynamic properties): [Windows.Media.Capture.MediaCapture.AddVideoEffectAsync()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addvideoeffectasync) / [Windows.Media.Capture.MediaCapture.AddAudioEffectAsync()](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacapture.addaudioeffectasync) which require the app create its own implementation of [IVideoEffectDefinition](https://docs.microsoft.com/uwp/api/Windows.Media.Effects.IVideoEffectDefinition) and [IAudioEffectDefinition](https://docs.microsoft.com/uwp/api/windows.media.effects.iaudioeffectdefinition).</span></span> <span data-ttu-id="120db-227">Vedere l'esempio MRC [Effect, ad esempio Usage.</span><span class="sxs-lookup"><span data-stu-id="120db-227">See the MRC [effect sample, for example,  usage.</span></span>

>[!NOTE]
> <span data-ttu-id="120db-228">Lo spazio dei nomi Windows. Media. MixedRealityCapture non verrà riconosciuto da Visual Studio, ma le stringhe sono ancora valide.</span><span class="sxs-lookup"><span data-stu-id="120db-228">The Windows.Media.MixedRealityCapture namespace will not be recognized by Visual Studio, but the strings are still valid.</span></span>

<span data-ttu-id="120db-229">Effetto video MRC (**Windows. Media. MixedRealityCapture. MixedRealityCaptureVideoEffect**)</span><span class="sxs-lookup"><span data-stu-id="120db-229">MRC Video Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureVideoEffect**)</span></span>

|  <span data-ttu-id="120db-230">Nome proprietà</span><span class="sxs-lookup"><span data-stu-id="120db-230">Property Name</span></span>  |  <span data-ttu-id="120db-231">Tipo</span><span class="sxs-lookup"><span data-stu-id="120db-231">Type</span></span>  |  <span data-ttu-id="120db-232">Valore predefinito</span><span class="sxs-lookup"><span data-stu-id="120db-232">Default Value</span></span>  |  <span data-ttu-id="120db-233">Descrizione</span><span class="sxs-lookup"><span data-stu-id="120db-233">Description</span></span> |
|----------|----------|----------|----------|
|  <span data-ttu-id="120db-234">StreamType</span><span class="sxs-lookup"><span data-stu-id="120db-234">StreamType</span></span>  |  <span data-ttu-id="120db-235">UINT32 ([MediaStreamType](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.MediaStreamType))</span><span class="sxs-lookup"><span data-stu-id="120db-235">UINT32 ([MediaStreamType](https://docs.microsoft.com/uwp/api/Windows.Media.Capture.MediaStreamType))</span></span>  |  <span data-ttu-id="120db-236">1 (VideoRecord)</span><span class="sxs-lookup"><span data-stu-id="120db-236">1 (VideoRecord)</span></span>  |  <span data-ttu-id="120db-237">Descrivere il flusso di acquisizione per cui viene usato questo effetto.</span><span class="sxs-lookup"><span data-stu-id="120db-237">Describe which capture stream this effect is used for.</span></span> <span data-ttu-id="120db-238">L'audio non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="120db-238">Audio isn't available.</span></span> |
|  <span data-ttu-id="120db-239">HologramCompositionEnabled</span><span class="sxs-lookup"><span data-stu-id="120db-239">HologramCompositionEnabled</span></span>  |  <span data-ttu-id="120db-240">boolean</span><span class="sxs-lookup"><span data-stu-id="120db-240">boolean</span></span>  |  <span data-ttu-id="120db-241">TRUE</span><span class="sxs-lookup"><span data-stu-id="120db-241">TRUE</span></span>  |  <span data-ttu-id="120db-242">Flag per abilitare o disabilitare gli ologrammi nell'acquisizione video.</span><span class="sxs-lookup"><span data-stu-id="120db-242">Flag to enable or disable holograms in video capture.</span></span> |
|  <span data-ttu-id="120db-243">RecordingIndicatorEnabled</span><span class="sxs-lookup"><span data-stu-id="120db-243">RecordingIndicatorEnabled</span></span>  |  <span data-ttu-id="120db-244">boolean</span><span class="sxs-lookup"><span data-stu-id="120db-244">boolean</span></span>  |  <span data-ttu-id="120db-245">TRUE</span><span class="sxs-lookup"><span data-stu-id="120db-245">TRUE</span></span>  |  <span data-ttu-id="120db-246">Flag per abilitare o disabilitare l'indicatore di registrazione sullo schermo durante l'acquisizione di ologrammi.</span><span class="sxs-lookup"><span data-stu-id="120db-246">Flag to enable or disable recording indicator on screen during hologram capturing.</span></span> |
|  <span data-ttu-id="120db-247">VideoStabilizationEnabled</span><span class="sxs-lookup"><span data-stu-id="120db-247">VideoStabilizationEnabled</span></span>  |  <span data-ttu-id="120db-248">boolean</span><span class="sxs-lookup"><span data-stu-id="120db-248">boolean</span></span>  |  <span data-ttu-id="120db-249">FALSE</span><span class="sxs-lookup"><span data-stu-id="120db-249">FALSE</span></span>  |  <span data-ttu-id="120db-250">Flag per abilitare o disabilitare la stabilizzazione video con tecnologia HoloLens Tracker.</span><span class="sxs-lookup"><span data-stu-id="120db-250">Flag to enable or disable video stabilization powered by the HoloLens tracker.</span></span> |
|  <span data-ttu-id="120db-251">VideoStabilizationBufferLength</span><span class="sxs-lookup"><span data-stu-id="120db-251">VideoStabilizationBufferLength</span></span>  |  <span data-ttu-id="120db-252">UINT32</span><span class="sxs-lookup"><span data-stu-id="120db-252">UINT32</span></span>  |  <span data-ttu-id="120db-253">0</span><span class="sxs-lookup"><span data-stu-id="120db-253">0</span></span>  |  <span data-ttu-id="120db-254">Consente di impostare il numero di frame cronologici utilizzati per la stabilizzazione del video.</span><span class="sxs-lookup"><span data-stu-id="120db-254">Set how many historical frames are used for video stabilization.</span></span> <span data-ttu-id="120db-255">0 è 0: latenza e quasi "Free" da un punto di vista dell'alimentazione e delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="120db-255">0 is 0-latency and nearly "free" from a power and performance perspective.</span></span> <span data-ttu-id="120db-256">15 è consigliato per la massima qualità (a costo di 15 fotogrammi di latenza e memoria).</span><span class="sxs-lookup"><span data-stu-id="120db-256">15 is recommended for highest quality (at the cost of 15 frames of latency and memory).</span></span> |
|  <span data-ttu-id="120db-257">GlobalOpacityCoefficient</span><span class="sxs-lookup"><span data-stu-id="120db-257">GlobalOpacityCoefficient</span></span>  |  <span data-ttu-id="120db-258">float</span><span class="sxs-lookup"><span data-stu-id="120db-258">float</span></span>  |  <span data-ttu-id="120db-259">0,9 (HoloLens) 1,0 (auricolare immersivo)</span><span class="sxs-lookup"><span data-stu-id="120db-259">0.9 (HoloLens) 1.0 (Immersive headset)</span></span>  |  <span data-ttu-id="120db-260">Impostare il coefficiente di opacità globale di un ologramma compreso tra 0,0 (completamente trasparente) e 1,0 (completamente opaco).</span><span class="sxs-lookup"><span data-stu-id="120db-260">Set global opacity coefficient of hologram in range from 0.0 (fully transparent) to 1.0 (fully opaque).</span></span> |
|  <span data-ttu-id="120db-261">BlankOnProtectedContent</span><span class="sxs-lookup"><span data-stu-id="120db-261">BlankOnProtectedContent</span></span>  |  <span data-ttu-id="120db-262">boolean</span><span class="sxs-lookup"><span data-stu-id="120db-262">boolean</span></span>  |  <span data-ttu-id="120db-263">FALSE</span><span class="sxs-lookup"><span data-stu-id="120db-263">FALSE</span></span>  |  <span data-ttu-id="120db-264">Flag per abilitare o disabilitare la restituzione di un frame vuoto se è presente un'app UWP 2D che mostra il contenuto protetto.</span><span class="sxs-lookup"><span data-stu-id="120db-264">Flag to enable or disable returning an empty frame if there's a 2d UWP app showing protected content.</span></span> <span data-ttu-id="120db-265">Se questo flag è false e un'app UWP 2D Visualizza contenuto protetto, l'app UWP 2D verrà sostituita da una trama di contenuto protetta sia nell'auricolare che nell'acquisizione di realtà mista.</span><span class="sxs-lookup"><span data-stu-id="120db-265">If this flag is false and a 2d UWP app is showing protected content, the 2d UWP app will be replaced by a protected content texture in both the headset and in the mixed reality capture.</span></span> |
|  <span data-ttu-id="120db-266">ShowHiddenMesh</span><span class="sxs-lookup"><span data-stu-id="120db-266">ShowHiddenMesh</span></span>  |  <span data-ttu-id="120db-267">boolean</span><span class="sxs-lookup"><span data-stu-id="120db-267">boolean</span></span>  |  <span data-ttu-id="120db-268">FALSE</span><span class="sxs-lookup"><span data-stu-id="120db-268">FALSE</span></span>  |  <span data-ttu-id="120db-269">Flag per abilitare o disabilitare la visualizzazione della mesh di area nascosta e del contenuto adiacente della fotocamera olografica.</span><span class="sxs-lookup"><span data-stu-id="120db-269">Flag to enable or disable showing the holographic camera's hidden area mesh and neighboring content.</span></span> |
| <span data-ttu-id="120db-270">OutputSize</span><span class="sxs-lookup"><span data-stu-id="120db-270">OutputSize</span></span> | <span data-ttu-id="120db-271">Dimensione</span><span class="sxs-lookup"><span data-stu-id="120db-271">Size</span></span> | <span data-ttu-id="120db-272">0, 0</span><span class="sxs-lookup"><span data-stu-id="120db-272">0, 0</span></span> | <span data-ttu-id="120db-273">Imposta la dimensione di output desiderata dopo il ritaglio per la stabilizzazione del video.</span><span class="sxs-lookup"><span data-stu-id="120db-273">Set the desired output size after cropping for video stabilization.</span></span> <span data-ttu-id="120db-274">Viene scelta una dimensione di ritaglio predefinita se si specifica 0 o una dimensione di output non valida.</span><span class="sxs-lookup"><span data-stu-id="120db-274">A default crop size is chosen if 0 or an invalid output size is specified.</span></span> |
| <span data-ttu-id="120db-275">PreferredHologramPerspective</span><span class="sxs-lookup"><span data-stu-id="120db-275">PreferredHologramPerspective</span></span> | <span data-ttu-id="120db-276">UINT32</span><span class="sxs-lookup"><span data-stu-id="120db-276">UINT32</span></span> | <span data-ttu-id="120db-277">**Rendering dall'** impostazione della fotocamera nel portale del dispositivo Windows</span><span class="sxs-lookup"><span data-stu-id="120db-277">**Render from Camera** setting in the Windows Device Portal</span></span> | <span data-ttu-id="120db-278">Enum usato per indicare quale configurazione della visualizzazione della fotocamera olografica deve essere acquisita: 0 (display) significa che all'app non verrà richiesto di eseguire il rendering dalla fotocamera Photo/video, 1 (PhotoVideoCamera) chiederà all'app di eseguire il rendering dalla fotocamera foto/video (se supportata dall'app).</span><span class="sxs-lookup"><span data-stu-id="120db-278">Enum used to indicate which holographic camera view configuration should be captured: 0 (Display) means that the app won't be asked to render from the photo/video camera, 1 (PhotoVideoCamera) will ask the app to render from the photo/video camera (if the app supports it).</span></span> <span data-ttu-id="120db-279">Supportato solo su HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="120db-279">Only supported on HoloLens 2</span></span> |

>[!NOTE]
> <span data-ttu-id="120db-280">È possibile modificare il valore predefinito di **PreferredHologramPerspective** nel portale per dispositivi Windows passando alla pagina di [acquisizione della realtà mista](using-the-windows-device-portal.md#mixed-reality-capture) e deselezionando il **rendering dalla fotocamera**.</span><span class="sxs-lookup"><span data-stu-id="120db-280">You can change the default value of **PreferredHologramPerspective** in the Windows Device Portal by going to the [Mixed Reality Capture page](using-the-windows-device-portal.md#mixed-reality-capture) and unchecking **Render from Camera**.</span></span> <span data-ttu-id="120db-281">L'impostazione predefinita è **1 (PhotoVideoCamera)**, ma può essere deselezionata per impostarla su **0 (visualizzazione)**.</span><span class="sxs-lookup"><span data-stu-id="120db-281">The setting defaults to **1 (PhotoVideoCamera)**, but can be unchecked to set it to **0 (Display)**.</span></span>
>
> <span data-ttu-id="120db-282">Il valore predefinito di **PreferredHologramPerspective** è **0 (display)** prima dell'aggiornamento del 2020 giugno (Windows olografico, versione 2004 Build 19041,1106 e Windows olografico, versione 1903 Build 18362,1064).</span><span class="sxs-lookup"><span data-stu-id="120db-282">The default value of **PreferredHologramPerspective** was **0 (Display)** prior to the June 2020 update (Windows Holographic, version 2004 build 19041.1106 and Windows Holographic, version 1903 build 18362.1064).</span></span>

<span data-ttu-id="120db-283">Effetto audio MRC (**Windows. Media. MixedRealityCapture. MixedRealityCaptureAudioEffect**)</span><span class="sxs-lookup"><span data-stu-id="120db-283">MRC Audio Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureAudioEffect**)</span></span>

| <span data-ttu-id="120db-284">Nome proprietà</span><span class="sxs-lookup"><span data-stu-id="120db-284">Property Name</span></span> | <span data-ttu-id="120db-285">Tipo</span><span class="sxs-lookup"><span data-stu-id="120db-285">Type</span></span> | <span data-ttu-id="120db-286">Valore predefinito</span><span class="sxs-lookup"><span data-stu-id="120db-286">Default Value</span></span> | <span data-ttu-id="120db-287">Descrizione</span><span class="sxs-lookup"><span data-stu-id="120db-287">Description</span></span> |
|----------|----------|----------|----------|
| <span data-ttu-id="120db-288">MixerMode</span><span class="sxs-lookup"><span data-stu-id="120db-288">MixerMode</span></span> | <span data-ttu-id="120db-289">UINT32</span><span class="sxs-lookup"><span data-stu-id="120db-289">UINT32</span></span> | <span data-ttu-id="120db-290">2 (MIC e audio di sistema)</span><span class="sxs-lookup"><span data-stu-id="120db-290">2 (Mic and System audio)</span></span> | <span data-ttu-id="120db-291">Enum usato per indicare le origini audio da usare: 0 (solo audio MIC), 1 (solo audio di sistema), 2 (MIC e audio di sistema)</span><span class="sxs-lookup"><span data-stu-id="120db-291">Enum used to indicate which audio sources should be used: 0 (Mic audio only), 1 (System audio only), 2 (Mic and System audio)</span></span> |
| <span data-ttu-id="120db-292">LoopbackGain</span><span class="sxs-lookup"><span data-stu-id="120db-292">LoopbackGain</span></span> | <span data-ttu-id="120db-293">float</span><span class="sxs-lookup"><span data-stu-id="120db-293">float</span></span> | <span data-ttu-id="120db-294">Impostazione di **miglioramento audio app** nel portale per dispositivi Windows</span><span class="sxs-lookup"><span data-stu-id="120db-294">**App Audio Gain** setting in the Windows Device Portal</span></span> | <span data-ttu-id="120db-295">Ottenere da applicare al volume audio del sistema.</span><span class="sxs-lookup"><span data-stu-id="120db-295">Gain to apply to system audio volume.</span></span> <span data-ttu-id="120db-296">Compreso tra 0,0 e 5,0.</span><span class="sxs-lookup"><span data-stu-id="120db-296">Ranges from 0.0 to 5.0.</span></span> <span data-ttu-id="120db-297">Supportato solo su HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="120db-297">Only supported on HoloLens 2</span></span> |
| <span data-ttu-id="120db-298">MicrophoneGain</span><span class="sxs-lookup"><span data-stu-id="120db-298">MicrophoneGain</span></span> | <span data-ttu-id="120db-299">float</span><span class="sxs-lookup"><span data-stu-id="120db-299">float</span></span> | <span data-ttu-id="120db-300">Impostazione del **guadagno audio mic** nel portale del dispositivo Windows</span><span class="sxs-lookup"><span data-stu-id="120db-300">**Mic Audio Gain** setting in the Windows Device Portal</span></span> | <span data-ttu-id="120db-301">Ottenere da applicare al volume MIC.</span><span class="sxs-lookup"><span data-stu-id="120db-301">Gain to apply to mic volume.</span></span> <span data-ttu-id="120db-302">Compreso tra 0,0 e 5,0.</span><span class="sxs-lookup"><span data-stu-id="120db-302">Ranges from 0.0 to 5.0.</span></span> <span data-ttu-id="120db-303">Supportato solo su HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="120db-303">Only supported on HoloLens 2</span></span> |

>[!NOTE]
> <span data-ttu-id="120db-304">È possibile modificare il valore predefinito di **LoopbackGain** o **MicrophoneGain** nel portale per dispositivi Windows passando alla pagina di [acquisizione della realtà mista](using-the-windows-device-portal.md#mixed-reality-capture) e modificando il dispositivo di scorrimento accanto alle rispettive impostazioni.</span><span class="sxs-lookup"><span data-stu-id="120db-304">You can change the default value of **LoopbackGain** or **MicrophoneGain** in the Windows Device Portal by going to the [Mixed Reality Capture page](using-the-windows-device-portal.md#mixed-reality-capture) and adjusting the slider next to their respective settings.</span></span> <span data-ttu-id="120db-305">Per impostazione predefinita, entrambe le impostazioni sono **1,0**, ma possono essere impostate su qualsiasi valore compreso tra **0,0** e **5,0**.</span><span class="sxs-lookup"><span data-stu-id="120db-305">Both settings default to **1.0**, but can be set to any value between **0.0** and **5.0**.</span></span>
>
> <span data-ttu-id="120db-306">L'uso del portale per dispositivi Windows per configurare i valori di guadagno predefiniti è stato aggiunto con l'aggiornamento di giugno 2020 (Windows olografico, versione 2004 Build 19041,1106 e Windows olografico, versione 1903 Build 18362,1064).</span><span class="sxs-lookup"><span data-stu-id="120db-306">Using Windows Device Portal to configure the default gain values was added with the June 2020 update (Windows Holographic, version 2004 build 19041.1106 and Windows Holographic, version 1903 build 18362.1064).</span></span>

### <a name="simultaneous-mrc-limitations"></a><span data-ttu-id="120db-307">Limitazioni di MRC simultanee</span><span class="sxs-lookup"><span data-stu-id="120db-307">Simultaneous MRC limitations</span></span>

<span data-ttu-id="120db-308">Esistono alcune limitazioni relative a più app che accedono a MRC nello stesso momento.</span><span class="sxs-lookup"><span data-stu-id="120db-308">There are certain limitations around multiple apps accessing MRC at the same time.</span></span>

#### <a name="photovideo-camera-access"></a><span data-ttu-id="120db-309">Accesso alla fotocamera foto/video</span><span class="sxs-lookup"><span data-stu-id="120db-309">Photo/video camera access</span></span>

<span data-ttu-id="120db-310">La fotocamera Photo/video è limitata al numero di processi che possono accedervi nello stesso momento.</span><span class="sxs-lookup"><span data-stu-id="120db-310">The photo/video camera is limited to the number of processes that can access it at the same time.</span></span> <span data-ttu-id="120db-311">Mentre un processo registra un video o scatta una foto, qualsiasi altro processo non riuscirà ad acquisire la fotocamera foto/video.</span><span class="sxs-lookup"><span data-stu-id="120db-311">While a process is recording video or taking a photo, any other process will fail to acquire the photo/video camera.</span></span> <span data-ttu-id="120db-312">Questo vale sia per l'acquisizione di realtà mista sia per l'acquisizione di foto/video standard.</span><span class="sxs-lookup"><span data-stu-id="120db-312">(this applies to both Mixed Reality Capture and standard photo/video capture)</span></span>

<span data-ttu-id="120db-313">Con HoloLens 2, un'app può usare la proprietà MediaCaptureInitializationSettings [SharingMode](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode) per indicare che desiderano eseguire SharedReadOnly se non necessitano di un controllo esclusivo sulla fotocamera foto/video.</span><span class="sxs-lookup"><span data-stu-id="120db-313">With HoloLens 2, an app can use the MediaCaptureInitializationSettings [SharingMode](https://docs.microsoft.com/uwp/api/windows.media.capture.mediacaptureinitializationsettings.sharingmode) property to indicate that they want to run SharedReadOnly if they don't need exclusive control over the photo/video camera.</span></span> <span data-ttu-id="120db-314">La risoluzione e il framerate dell'acquisizione saranno limitati alle altre app che hanno configurato la fotocamera per la fornitura.</span><span class="sxs-lookup"><span data-stu-id="120db-314">The resolution and framerate of the capture will be limited to what other apps have configured the camera to provide.</span></span>

##### <a name="built-in-mrc-photovideo-camera-access"></a><span data-ttu-id="120db-315">Accesso a foto/video della fotocamera MRC incorporato</span><span class="sxs-lookup"><span data-stu-id="120db-315">Built-in MRC photo/video camera access</span></span>

<span data-ttu-id="120db-316">Funzionalità MRC incorporata in Windows 10 (tramite Cortana, menu Start, collegamenti hardware, Miracast, portale per dispositivi Windows):</span><span class="sxs-lookup"><span data-stu-id="120db-316">MRC functionality built into Windows 10 (via Cortana, Start Menu, hardware shortcuts, Miracast, Windows Device Portal):</span></span>
* <span data-ttu-id="120db-317">Per impostazione predefinita, viene eseguito con ExclusiveControl</span><span class="sxs-lookup"><span data-stu-id="120db-317">Will run with ExclusiveControl by default</span></span>

<span data-ttu-id="120db-318">Tuttavia, il supporto è stato aggiunto a ogni sottosistema per operare in modalità condivisa:</span><span class="sxs-lookup"><span data-stu-id="120db-318">However, support has been added to each subsystem to operate in a shared mode:</span></span>
* <span data-ttu-id="120db-319">Se un'app richiede l'accesso ExclusiveControl alla fotocamera Photo/video, la funzionalità MRC predefinita si interrompe automaticamente usando la fotocamera foto/video, in modo che la richiesta dell'app venga completata</span><span class="sxs-lookup"><span data-stu-id="120db-319">If an app requests ExclusiveControl access to the photo/video camera, built-in MRC will automatically stop using the photo/video camera so the app's request will succeed</span></span>
* <span data-ttu-id="120db-320">Se viene avviata la funzionalità di gestione delle applicazioni incorporate in una ExclusiveControl, la funzionalità MRC predefinita verrà eseguita in modalità SharedReadOnly</span><span class="sxs-lookup"><span data-stu-id="120db-320">If built in MRC is started while an app has ExclusiveControl, built-in MRC will run in SharedReadOnly mode</span></span>

<span data-ttu-id="120db-321">Questa funzionalità in modalità condivisa presenta alcune restrizioni:</span><span class="sxs-lookup"><span data-stu-id="120db-321">This shared mode functionality has certain restrictions:</span></span>
* <span data-ttu-id="120db-322">Foto tramite Cortana, collegamenti hardware o menu Start: richiede l'aggiornamento di Windows 10 aprile 2018 (o versione successiva)</span><span class="sxs-lookup"><span data-stu-id="120db-322">Photo via Cortana, hardware shortcuts, or Start Menu: Requires the Windows 10 April 2018 Update (or later)</span></span>
* <span data-ttu-id="120db-323">Video tramite Cortana, collegamenti hardware o menu Start: richiede l'aggiornamento di Windows 10 aprile 2018 (o versione successiva)</span><span class="sxs-lookup"><span data-stu-id="120db-323">Video via Cortana, hardware shortcuts, or Start Menu: Requires the Windows 10 April 2018 Update (or later)</span></span>
* <span data-ttu-id="120db-324">Streaming MRC over Miracast: richiede l'aggiornamento di Windows 10 ottobre 2018 (o versione successiva)</span><span class="sxs-lookup"><span data-stu-id="120db-324">Streaming MRC over Miracast: Requires the Windows 10 October 2018 Update (or later)</span></span>
* <span data-ttu-id="120db-325">Streaming di MRC sul portale per dispositivi Windows o tramite l'app complementare HoloLens: richiede HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="120db-325">Streaming MRC over Windows Device Portal or via the HoloLens companion app: Requires HoloLens 2</span></span>

>[!NOTE]
> <span data-ttu-id="120db-326">La risoluzione e il framerate dell'interfaccia utente della fotocamera MRC integrata potrebbero essere ridotti dai valori normali quando un'altra app usa la fotocamera foto/video.</span><span class="sxs-lookup"><span data-stu-id="120db-326">The resolution and framerate of the built-in MRC camera UI might be reduced from its normal values when another app is using the photo/video camera.</span></span>

#### <a name="mrc-access"></a><span data-ttu-id="120db-327">Accesso a MRC</span><span class="sxs-lookup"><span data-stu-id="120db-327">MRC access</span></span>

<span data-ttu-id="120db-328">Con l'aggiornamento di Windows 10 aprile 2018, non esiste più una limitazione per più app che accedono al flusso MRC. Tuttavia, l'accesso alla videocamera Photo/video presenta ancora alcune limitazioni.</span><span class="sxs-lookup"><span data-stu-id="120db-328">With the Windows 10 April 2018 Update, there's no longer a limitation around multiple apps accessing the MRC stream (however, the access to the photo/video camera still has limitations).</span></span>

<span data-ttu-id="120db-329">In precedenza all'aggiornamento di Windows 10 aprile 2018, il registratore MRC personalizzato di un'app si escludono a vicenda con il sistema MRC (acquisizione di foto, acquisizione di video o flusso dal portale per dispositivi Windows).</span><span class="sxs-lookup"><span data-stu-id="120db-329">Previous to the Windows 10 April 2018 Update, an app's custom MRC recorder was mutually exclusive with system MRC (capturing photos, capturing videos, or streaming from the Windows Device Portal).</span></span>

## <a name="see-also"></a><span data-ttu-id="120db-330">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="120db-330">See also</span></span>

* [<span data-ttu-id="120db-331">Acquisizione in realtà mista (MRC, Mixed Reality Capture)</span><span class="sxs-lookup"><span data-stu-id="120db-331">Mixed reality capture</span></span>](../../mixed-reality-capture.md)
* [<span data-ttu-id="120db-332">Visualizzazione spettatore</span><span class="sxs-lookup"><span data-stu-id="120db-332">Spectator view</span></span>](spectator-view.md)
* [<span data-ttu-id="120db-333">Panoramica sullo sviluppo Unity</span><span class="sxs-lookup"><span data-stu-id="120db-333">Unity Development Overview</span></span>](../unity/unity-development-overview.md)
* [<span data-ttu-id="120db-334">Panoramica dello sviluppo con Unreal</span><span class="sxs-lookup"><span data-stu-id="120db-334">Unreal development overview</span></span>](../unreal/unreal-development-overview.md)
